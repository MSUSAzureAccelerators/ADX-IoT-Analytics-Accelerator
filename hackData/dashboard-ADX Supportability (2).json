{"$schema":"https://dataexplorer.azure.com/static/d/schema/24/dashboard.json","id":"82e249e0-286c-448f-afd1-6c546ae81d30","eTag":"2mj6twR1AdPsEXg/Z3jxNw==","title":"ADX Supportability","tiles":[{"id":"f36e989d-4f4f-4c83-8825-c3967aaa2419","title":"CSS Support Cases","query":"range TimeStamp from todatetime(\"09-01-2018\") to now() step 1d\n| summarize by TimeStamp=endofmonth(TimeStamp)\n| join kind=leftouter\n(\n    KPISupportData\n    | summarize CasesCreated = count() by TimeStamp=endofmonth(CreatedDateTime)\n) on TimeStamp\n| join kind=leftouter \n(\n    KPISupportData\n    | summarize CasesClosed = count() by TimeStamp=endofmonth(ClosedDateTime)\n) on TimeStamp\n| project TimeStamp, CasesCreated, CasesClosed","layout":{"x":0,"y":0,"width":12,"height":7},"pageId":"fc7e3b97-0425-4b35-9b08-0c30644ee2f4","visualType":"timechart","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"yAxisMaximumValue":{"type":"infer"},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"8d7116e4-1074-44ef-a71b-beb2ecdaa462","title":"Cases distribution by topics","query":"KPISupportData\n| where datetime_part(\"Year\",CreatedDateTime) >= datetime_part(\"Year\",now(-60d))\n| extend Month = datetime_part(\"Month\",CreatedDateTime)\n| where Month >= datetime_part(\"Month\",now())-2\n| summarize Count=count() by SupportTopicL2, Month\n| order by Count","layout":{"x":0,"y":12,"width":19,"height":7},"pageId":"fc7e3b97-0425-4b35-9b08-0c30644ee2f4","visualType":"column","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"specified","value":"SupportTopicL2"},"yColumns":{"type":"specified","value":["Count"]},"hideLegend":false,"yAxisMinimumValue":{"type":"infer"},"yAxisMaximumValue":{"type":"infer"},"seriesColumns":{"type":"specified","value":["Month"]},"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideTileTitle":false,"verticalLine":"","crossFilterDisabled":false,"crossFilter":[]}},{"id":"ec26ea4d-91e0-4eb9-ad06-9e2782cff0a4","title":"Total Cases","query":"KPISupportData\n| summarize count()","layout":{"x":16,"y":0,"width":3,"height":4},"pageId":"fc7e3b97-0425-4b35-9b08-0c30644ee2f4","visualType":"card","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"multiStat__textSize":"large","colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__valueColumn":{"type":"infer"}}},{"id":"72f8cf95-b15e-4e27-8227-ff6efb838510","title":"Open Cases","query":"KPISupportData\n| where isempty(ClosedDateTime)\n| summarize count()","layout":{"x":16,"y":4,"width":3,"height":3},"pageId":"fc7e3b97-0425-4b35-9b08-0c30644ee2f4","visualType":"card","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"multiStat__textSize":"large","colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__valueColumn":{"type":"infer"}}},{"id":"16d886b7-687f-4816-92d7-a1675cdfa5d9","title":"Cases by Severity","query":"KPISupportData\n| summarize Count=count() by Severity","layout":{"x":12,"y":0,"width":4,"height":7},"pageId":"fc7e3b97-0425-4b35-9b08-0c30644ee2f4","visualType":"pie","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{}},{"id":"f307dbca-94aa-4b36-bedd-521d96f255ed","title":"CSAT","query":"## Customer Satisfaction Score (CSAT) \n#### *Low < 4.5*, *Medium >= 4.5 & <4.62*, *Good > 4.62*","layout":{"x":0,"y":0,"width":7,"height":4},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"markdownCard","usedParamVariables":[],"visualOptions":{}},{"id":"d03b80e7-bfd0-4dd1-8ade-2e609e9a91a9","title":"CSAT Scores","query":"let ReportingPeriod = startofmonth(datetime_add('month', -3, now()));\nrange Timestamp from datetime_add('month', -3, now()) to now() step 1d\n| summarize by Timestamp=startofmonth(Timestamp)\n| join kind=leftouter\n(KPISupportData\n| where startofmonth(ClosedDateTime) >= ReportingPeriod\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| summarize CSAT=round(avg(CSAT),2), CaseCount=countif(isnotempty(CSAT)) by Month=startofmonth(ClosedDateTime)\n) on $left.Timestamp == $right.Month\n| order by Timestamp asc\n| extend CSAT = iif(isempty(CSAT), 0.0, CSAT)\n| extend CaseCount = iif(isempty(CaseCount),0, CaseCount)\n| extend Month=format_datetime(Timestamp, \"MM-yyyy\")","layout":{"x":7,"y":0,"width":12,"height":4},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"infer"},"conditions":[{"value":"4.5","operator":"<="},{"operator":">","value":"0"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}},{"id":"7914c2b4-22d0-468d-9e13-c49d596b66ee","column":{"type":"infer"},"conditions":[{"operator":"<","value":"4.7"},{"operator":">","value":"4.5"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium Score"}}},{"id":"670fbec0-6e69-4b18-af43-aba8dd2a2b1f","column":{"type":"infer"},"conditions":[{"operator":">=","value":"4.7"}],"color":"green","indicator":{"kind":"text","text":{"type":"specified","value":"Met target"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Month"},"multiStat__valueColumn":{"type":"specified","value":"CSAT"},"multiStat__slot":{"width":4,"height":1},"hideTileTitle":false,"multiStat__displayOrientation":"horizontal"}},{"id":"a40b1709-e887-4608-8d43-36aa9a7edb03","title":"Low CSAT Tickets (current month)","query":"KPISupportData\n| where startofmonth(ClosedDateTime) == startofmonth(now())\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| where isnotempty(CSAT)\n| where CSAT < 4.62\n| extend ServiceDeskLink = strcat(\"https://elixir.microsoft.com/case-review/\", IncidentId)\n| extend IsARR = iif(ServiceName in (\"Rapid Response - Premier\",\"Rapid Response - Unified\",\"Premier - Mission Critical\",\"Mission Critical - Unified\",\"Azure Rapid Response Restricted\",\"Azure Advanced Support for Startups\",\"Performance Support\"), \"Yes\",\"No\")\n| project IncidentId, ServiceDeskLink, CSAT, Customer,CreatedDateTime, ClosedDateTime, Severity, Title, ResourceUri, SupportTopicL2, SupportTopicL3, RelatedLSI_IDs, AgentAlias, IsARR\n\n","layout":{"x":6,"y":13,"width":13,"height":5},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"e9fd64f0-778e-4d80-afa9-44c59b156a79","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low"}}},{"id":"c0a55f32-7cd1-44ef-952f-2d13a70b3b2d","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":">","value":"4.5"},{"operator":"<","value":"4.62"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium"}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"],"crossFilterDisabled":true,"crossFilter":[],"hideTileTitle":false,"drillthroughDisabled":false,"drillthrough":[]}},{"id":"226b5aab-392d-4f7c-8908-81c004f3be54","title":"Top 10 customers with low CSAT","query":"let lastMonth = startofmonth(datetime_add('month', -1, now()));\nKPISupportData\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| summarize TotalCases=count(), OverallAvg=round(avg(CSAT), 2), LastMonthAvg=round(avgif(CSAT, startofmonth(ClosedDateTime) == lastMonth),2) by Customer\n| where OverallAvg < 4.62\n| top 10 by TotalCases\n| order by OverallAvg asc","layout":{"x":0,"y":29,"width":10,"height":8},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":[]}},{"id":"c0bcd63e-1945-421f-a0b4-bb52f1c0a614","title":"Top 10 Support Topics CSAT score","query":"let lastMonth = startofmonth(datetime_add('month', -1, now()));\nKPISupportData\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| summarize TotalCases=count(), OverallAvg=round(avg(CSAT), 2), LastMonthAvg=round(avgif(CSAT, startofmonth(ClosedDateTime) == lastMonth),2) by SupportTopicL2\n| where isnan(OverallAvg) == false\n| top 10 by OverallAvg asc\n| project SupportTopicL2, TotalCases, OverallAvg, LastMonthAvg","layout":{"x":10,"y":29,"width":9,"height":8},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":[]}},{"id":"b372203b-76aa-4343-a533-821c4d18c78d","title":"SESAT","query":"## Support Engineer Satisfaction Score (SESAT) \n#### *Low < 4.5*, *Medium >= 4.5 & <4.7*, *Good > 4.7*","layout":{"x":0,"y":0,"width":7,"height":4},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"markdownCard","usedParamVariables":[],"visualOptions":{}},{"id":"ea657052-4969-4dce-9786-6b7ca21cffcd","title":"Active CSS SR","query":"let lastMonth = startofmonth(datetime_add('month', -1, now()));\nKPISupportData\n| where State == \"Open\"\n| project IncidentId, Title, ResourceUri,SupportTopicL2, SupportTopicL3, Customer, CreatedDateTime, State\n| extend CreateTimespan = now() - CreatedDateTime\n| extend CreateAge = iff(State == 'Open', iff(CreateTimespan < time(1d), ' 0', \n                    iff(CreateTimespan < time(2d), ' 1', \n                    iff(CreateTimespan < time(3d), ' 2', \n                    iff(CreateTimespan < time(4d), ' 3', \n                    iff(CreateTimespan < time(5d), ' 4', \n                    iff(CreateTimespan < time(6d), ' 5', \n                    iff(CreateTimespan < time(7d), ' 6', \n                    iff(CreateTimespan < time(8d), ' 7', \n                    iff(CreateTimespan < time(9d), ' 8',\n                    iff(CreateTimespan < time(10d), ' 9',\n                    iff(CreateTimespan < time(11d), '10',\n                    iff(CreateTimespan < time(12d), '11',\n                    iff(CreateTimespan < time(13d), '12',\n                    iff(CreateTimespan < time(14d), '13',\n                    iff(CreateTimespan < time(15d), '14','14+'))))))))))))))), ' ')\n| project-away CreateTimespan\n| order by CreatedDateTime asc ","layout":{"x":0,"y":26,"width":19,"height":9},"pageId":"fc7e3b97-0425-4b35-9b08-0c30644ee2f4","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":[]}},{"id":"d9701808-d593-4dfc-81c1-81ffb09aab9a","title":"List of Support SRs","query":"KPISupportData\n| extend CustomerName=iif(isempty(Customer_TPIDDisplayName), Customer_CloudCustomerName,Customer_TPIDDisplayName)\n| extend ServiceDeskLink = strcat(\"https://servicedesk.microsoft.com/#/customer/case/\", IncidentId)\n| project Cloud,IncidentId, ServiceDeskLink, CreatedDateTime, ClosedDateTime, Severity, Title, SupportTopicL2, SupportTopicL3, RelatedLSI_IDs, Causetxt, Resolutiontxt, Symptomstxt, FdrState, FwrState, TotalCustomerSATScore,TotalLabourMinutes,CPT, TotalAgentSATScore, TotalEmailInteractions","layout":{"x":0,"y":19,"width":19,"height":7},"pageId":"fc7e3b97-0425-4b35-9b08-0c30644ee2f4","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"],"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"6176d54e-802f-4fae-8fa0-65219ef538cd","title":"Low CSAT Tickets (last month)","query":"let lastMonth = startofmonth(datetime_add('month', -1, now()));\nKPISupportData\n| where startofmonth(ClosedDateTime) == lastMonth\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| where isnotempty(CSAT)\n| where CSAT < 4.62\n| extend ServiceDeskLink = strcat(\"https://elixir.microsoft.com/case-review/\", IncidentId)\n| extend IsARR = iif(ServiceName in (\"Rapid Response - Premier\",\"Rapid Response - Unified\",\"Premier - Mission Critical\",\"Mission Critical - Unified\",\"Azure Rapid Response Restricted\",\"Azure Advanced Support for Startups\",\"Performance Support\"), \"Yes\",\"No\")\n| project IncidentId, ServiceDeskLink, CSAT, Customer,CreatedDateTime, ClosedDateTime, Severity, Title, ResourceUri, SupportTopicL2, SupportTopicL3, RelatedLSI_IDs, AgentAlias, IsARR","layout":{"x":6,"y":4,"width":13,"height":5},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"2de1d90f-5bee-425b-883e-d990bcbbb933","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low"}}},{"id":"156582d2-a478-4de2-b844-7e9046105727","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":">","value":"4.5"},{"operator":"<","value":"4.62"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium"}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"],"crossFilterDisabled":true,"crossFilter":[],"hideTileTitle":false,"drillthroughDisabled":false,"drillthrough":[]}},{"id":"97528dc9-3e5d-4421-923b-810250082145","title":"CSAT","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n| where startofmonth(ClosedDateTime) >= ReportingPeriod and startofmonth(ClosedDateTime) < CurrentMonth\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| summarize CSAT=round(avg(CSAT),2) by Month=startofmonth(ClosedDateTime)\n| project \"Score (Last Month)\",CSAT\n\n\n","layout":{"x":0,"y":4,"width":3,"height":5},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}},{"id":"7914c2b4-22d0-468d-9e13-c49d596b66ee","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":"<","value":"4.7"},{"operator":">","value":"4.5"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium Score"}}},{"id":"6f7aca3e-2824-4fd6-ad84-89df84748621","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":">=","value":"4.7"}],"color":"green","indicator":{"kind":"text","text":{"type":"specified","value":"Met target"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"infer"},"multiStat__valueColumn":{"type":"specified","value":"CSAT"},"multiStat__slot":{"width":1,"height":1},"hideTileTitle":false,"multiStat__displayOrientation":"horizontal"}},{"id":"a3438caf-bb3a-4887-b8d5-99782b642f5f","title":"CSAT","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n| where startofmonth(ClosedDateTime) >= ReportingPeriod and startofmonth(ClosedDateTime) < CurrentMonth\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| summarize CaseCount=countif(isnotempty(CSAT)), TotalCaseCount=count() by Month=startofmonth(ClosedDateTime)\n| project \"Cases (last month)\",CaseCount = strcat(CaseCount, \"/\", TotalCaseCount)\n//| extend Month=format_datetime(Month, \"MM-yyyy\")\n","layout":{"x":3,"y":4,"width":3,"height":5},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"infer"},"multiStat__valueColumn":{"type":"specified","value":"CaseCount"},"multiStat__slot":{"width":1,"height":1}}},{"id":"28975e7c-a939-4ab9-aa0a-1959115d80ee","title":"CSAT","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n| where startofmonth(ClosedDateTime) >= CurrentMonth\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| summarize CSAT=round(avg(CSAT),2) by Month=startofmonth(ClosedDateTime)\n| project \"Score (Current Month)\",CSAT\n\n\n","layout":{"x":0,"y":13,"width":3,"height":5},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}},{"id":"7914c2b4-22d0-468d-9e13-c49d596b66ee","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":"<","value":"4.62"},{"value":"4.5","operator":">="}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium Score"}}},{"id":"748d7369-51fe-4910-af3b-76e3d80a7177","column":{"type":"infer"},"conditions":[{"operator":">=","value":"4.62"}],"color":"green","indicator":{"kind":"text","text":{"type":"specified","value":"Met target"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"infer"},"multiStat__valueColumn":{"type":"specified","value":"CSAT"},"multiStat__slot":{"width":1,"height":1}}},{"id":"917a98bf-c46e-497e-b17b-7496b5dd804e","title":"CSAT","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n| where startofmonth(ClosedDateTime) >= CurrentMonth\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| summarize CaseCount=countif(isnotempty(CSAT)), TotalCaseCount=count() by Month=startofmonth(ClosedDateTime)\n| project \"Cases (last month)\",CaseCount = strcat(CaseCount, \"/\", TotalCaseCount)\n\n","layout":{"x":3,"y":13,"width":3,"height":5},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"infer"},"multiStat__valueColumn":{"type":"specified","value":"CaseCount"},"multiStat__slot":{"width":1,"height":1}}},{"id":"d44d9cd1-98d9-40c7-9197-4c14393d6190","title":"IPD","query":"let IPDGoals=datatable(Month:datetime , IPDGoal:double)[datetime(\"07-01-2020\"), 5.79,datetime(\"08-01-2020\"), 6.10, datetime(\"09-01-2020\"), 6.33,datetime(\"10-01-2020\"),6.38,datetime(\"11-01-2020\"),6.68,datetime(\"12-01-2020\"),5.30,datetime(\"01-01-2021\"),6.37,datetime(\"02-01-2021\"),6.69,datetime(\"03-01-2021\"),6.96,datetime(\"04-01-2021\"),6.98,datetime(\"05-01-2021\"),7.31,datetime(\"06-01-2021\"),7.54,datetime(\"07-01-2021\"),7.54,datetime(\"08-01-2021\"),7.54,datetime(\"09-01-2021\"),7.54,datetime(\"10-01-2021\"),7.54, datetime(\"11-01-2021\"),7.54] ;\nKPISupportData\n    | where CreatedDateTime > startofmonth(ago(365d))\n    | summarize CasesCreated = count() by TimeStamp=bin(CreatedDateTime, 1d)\n| summarize IPD=avg(CasesCreated) by Month=startofmonth(TimeStamp)\n| join (IPDGoals | extend Month=startofmonth(Month)) on Month\n| extend GoalMet = iif(IPDGoal >= IPD, \"Yes\", \"No\")\n| order by Month asc \n| project Month=format_datetime(Month, \"MM-yyyy\"), IPD, IPDGoal\n\n\n\n\n\n\t\t\t\t\t\t\t\t\t\n","layout":{"x":6,"y":17,"width":12,"height":8},"pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","visualType":"line","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"specified","value":"Month"},"yColumns":{"type":"specified","value":["IPD","IPDGoal"]},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]},"hideTileTitle":false,"verticalLine":"","crossFilterDisabled":true,"crossFilter":[]}},{"id":"7b210e90-0e01-4293-8c8a-9c7e580895ec","title":"IPD (Incidents per day)","query":"## Incident (IPD) Actuals -Incidents per day for the service","layout":{"x":0,"y":0,"width":18,"height":3},"pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","visualType":"markdownCard","usedParamVariables":[],"visualOptions":{}},{"id":"d0caf91c-47af-4626-9bd0-79b853d8c527","title":"IPD actual (goal)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -3, now()));\nlet IPDGoals=datatable(Month:datetime , IPDGoal:double)[datetime(\"07-01-2020\"), 5.79,datetime(\"08-01-2020\"), 6.10, datetime(\"09-01-2020\"), 6.33,datetime(\"10-01-2020\"),6.38,datetime(\"11-01-2020\"),6.68,datetime(\"12-01-2020\"),5.30,datetime(\"01-01-2021\"),6.37,datetime(\"02-01-2021\"),6.69,datetime(\"03-01-2021\"),6.96,datetime(\"04-01-2021\"),6.98,datetime(\"05-01-2021\"),7.05,datetime(\"06-01-2021\"),7.14,datetime(\"07-01-2021\"),18.82, datetime(\"08-01-2021\"),18.82,datetime(\"09-01-2021\"),19.05,datetime(\"10-01-2021\"),19.52,datetime(\"11-01-2021\"),19.05,datetime(\"12-01-2021\"),16.61,datetime(\"01-01-2022\"),18.67,datetime(\"02-01-2022\"),19.35,datetime(\"03-01-2022\"),17.87,datetime(\"04-01-2022\"),18.76,datetime(\"05-01-2022\"),18.23,datetime(\"06-01-2022\"),18.32];\nrange Timestamp from datetime_add('month', -3, now()) to now() step 1d\n| summarize by Timestamp=startofmonth(Timestamp)\n| join kind=leftouter\n(\nKPISupportData\n    | where CreatedDateTime > ReportingPeriod\n    | summarize CasesCreated=count() by Month=startofmonth(CreatedDateTime)\n    | lookup MonthToWorkDay on $left.Month == $right.Month\n    | extend IPD = toreal(CasesCreated)/toreal(WorkDays)\n) on $left.Timestamp == $right.Month\n| extend Month=startofmonth(Timestamp)\n| join (IPDGoals | extend Month=startofmonth(Month)) on Month\n| extend GoalMet = iif(IPDGoal >= iif(isempty(IPD), 0.0, IPD), \"Yes\", \"No\")\n| project Month=format_datetime(Timestamp, \"MM-yyyy\"), IPD=strcat(round(IPD,2), \"(\", IPDGoal, \")\"), GoalMet, IPDGoal","layout":{"x":0,"y":3,"width":12,"height":5},"pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"No"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Not met target"}}},{"id":"32ceba5e-282e-44c7-8369-0e5a6b58ed65","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"Yes"}],"color":"green","indicator":{"kind":"text","text":{"type":"specified","value":"Met target"}}}],"colorStyle":"bold","multiStat__textSize":"small","multiStat__labelColumn":{"type":"specified","value":"Month"},"multiStat__valueColumn":{"type":"specified","value":"IPD"},"multiStat__slot":{"width":4,"height":1}}},{"id":"538af39f-e114-41e5-adeb-62c1e05c76f8","title":"IPD (Last Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nlet IPDGoals=datatable(Month:datetime , IPDGoal:double)[datetime(\"07-01-2020\"), 5.79,datetime(\"08-01-2020\"), 6.10, datetime(\"09-01-2020\"), 6.33,datetime(\"10-01-2020\"),6.38,datetime(\"11-01-2020\"),6.68,datetime(\"12-01-2020\"),5.30,datetime(\"01-01-2021\"),6.37,datetime(\"02-01-2021\"),6.69,datetime(\"03-01-2021\"),6.96,datetime(\"04-01-2021\"),6.98,datetime(\"05-01-2021\"),7.05,datetime(\"06-01-2021\"),7.14,datetime(\"07-01-2021\"),18.82, datetime(\"08-01-2021\"),18.82,datetime(\"09-01-2021\"),19.05,datetime(\"10-01-2021\"),19.52,datetime(\"11-01-2021\"),19.05,datetime(\"12-01-2021\"),16.61,datetime(\"01-01-2022\"),18.67,datetime(\"02-01-2022\"),19.35,datetime(\"03-01-2022\"),17.87,datetime(\"04-01-2022\"),18.76,datetime(\"05-01-2022\"),18.23,datetime(\"06-01-2022\"),18.32];\nKPISupportData\n    | where CreatedDateTime >= ReportingPeriod and CreatedDateTime < CurrentMonth\n    | summarize CasesCreated = count() by Month=startofmonth(CreatedDateTime)\n| lookup MonthToWorkDay on $left.Month == $right.Month\n    | extend IPD = toreal(CasesCreated)/toreal(WorkDays)\n| extend Value = \"Actual\"\n| join (IPDGoals | where Month >= ReportingPeriod and Month < CurrentMonth | extend Month = startofmonth(Month)) on Month\n| extend GoalMet = iif(IPDGoal >= IPD, \"Yes\", \"No\")\n| project Month, IPD, Value, GoalMet\n| union (IPDGoals | where Month >= ReportingPeriod and Month < CurrentMonth | extend Value = \"Target\" | extend IPD=IPDGoal | extend GoalMet = \"\") \n| project Month=format_datetime(Month, \"MM-yyyy\"), IPD=round(IPD,2), Value,  GoalMet","layout":{"x":0,"y":17,"width":6,"height":4},"pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"No"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Not met target"}}},{"id":"32ceba5e-282e-44c7-8369-0e5a6b58ed65","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"Yes"}],"color":"green","indicator":{"kind":"text","text":{"type":"specified","value":"Met target"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Value"},"multiStat__valueColumn":{"type":"infer"},"multiStat__slot":{"width":2,"height":1}}},{"id":"b7d15207-2312-49b3-b1ef-b5f4f5a91863","title":"IPD (Current Month)","query":"let CurrentMonth = startofmonth(now());\nlet IPDGoals=datatable(Month:datetime , IPDGoal:double)[datetime(\"07-01-2020\"), 5.79,datetime(\"08-01-2020\"), 6.10, datetime(\"09-01-2020\"), 6.33,datetime(\"10-01-2020\"),6.38,datetime(\"11-01-2020\"),6.68,datetime(\"12-01-2020\"),5.30,datetime(\"01-01-2021\"),6.37,datetime(\"02-01-2021\"),6.69,datetime(\"03-01-2021\"),6.96,datetime(\"04-01-2021\"),6.98,datetime(\"05-01-2021\"),7.05,datetime(\"06-01-2021\"),7.14,datetime(\"07-01-2021\"),18.82, datetime(\"08-01-2021\"),18.82,datetime(\"09-01-2021\"),19.05,datetime(\"10-01-2021\"),19.52,datetime(\"11-01-2021\"),19.05,datetime(\"12-01-2021\"),16.61,datetime(\"01-01-2022\"),18.67,datetime(\"02-01-2022\"),19.35,datetime(\"03-01-2022\"),17.87,datetime(\"04-01-2022\"),18.76,datetime(\"05-01-2022\"),18.23,datetime(\"06-01-2022\"),18.32];\nprint CurrentMonth=CurrentMonth\n| join kind=leftouter (\nKPISupportData\n    | where CreatedDateTime >= CurrentMonth\n     | summarize CasesCreated = count() by Month=startofmonth(CreatedDateTime)\n| lookup MonthToWorkDay on $left.Month == $right.Month\n    | extend IPD = toreal(CasesCreated)/toreal(WorkDays)\n) on $left.CurrentMonth == $right.Month\n| extend Value = \"Actual\"\n| extend IPD = iif(isempty(IPD), 0.0,IPD)\n| join (IPDGoals | where Month == CurrentMonth | extend Month = startofmonth(Month)) on $left.CurrentMonth == $right.Month\n| extend GoalMet = iif(IPDGoal >= iif(isempty(IPD), 0.0,IPD), \"Yes\", \"No\")\n| project Month, IPD, Value, GoalMet\n| union (IPDGoals | where Month == CurrentMonth | extend Value = \"Target\" | extend IPD=IPDGoal | extend GoalMet = \"\") \n| project Month=format_datetime(CurrentMonth, \"MM-yyyy\"), IPD=round(IPD,2), Value,  GoalMet","layout":{"x":0,"y":21,"width":6,"height":4},"pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"No"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Not met target"}}},{"id":"32ceba5e-282e-44c7-8369-0e5a6b58ed65","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"Yes"}],"color":"green","indicator":{"kind":"text","text":{"type":"specified","value":"Met target"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Value"},"multiStat__valueColumn":{"type":"infer"},"multiStat__slot":{"width":2,"height":1}}},{"id":"6bfb06df-01ee-4e04-b4a3-e24582d0e541","title":"Top 5 Customers (Last month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n    | where CreatedDateTime >= ReportingPeriod and CreatedDateTime < CurrentMonth\n    | summarize CasesCreated = count() by Customer\n| top 5 by CasesCreated\n\n\n\n","layout":{"x":0,"y":8,"width":18,"height":3},"pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__textSize":"auto","multiStat__labelColumn":{"type":"specified","value":"Customer"},"multiStat__valueColumn":{"type":"specified","value":"CasesCreated"},"multiStat__slot":{"width":5,"height":1}}},{"id":"ee517a1b-d1b9-4fb6-92a5-69be443bfb82","title":"Top 5 Topics (Last month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n    | where CreatedDateTime >= ReportingPeriod and CreatedDateTime < CurrentMonth\n    | summarize CasesCreated = count() by SupportTopicL2\n| top 5 by CasesCreated\n\n\n\n","layout":{"x":0,"y":11,"width":18,"height":3},"pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__textSize":"auto","multiStat__labelColumn":{"type":"specified","value":"SupportTopicL2"},"multiStat__valueColumn":{"type":"specified","value":"CasesCreated"},"multiStat__slot":{"width":5,"height":1}}},{"id":"0f4f0720-6ab3-4a2b-84aa-4de821c893bc","title":"NIR (Normalized Incident Rate))","query":"### Rate of incidents against the expected usage growth of a service/service group for a given time period (typically the month)\r\n#### Normalized Incident Rate=(( Actual Incident volume )/(@Usage) )","layout":{"x":0,"y":25,"width":18,"height":3},"pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","visualType":"markdownCard","usedParamVariables":[],"visualOptions":{}},{"id":"172b5aa3-e7fd-4b2d-95a0-de79c9c3d708","title":"Usage (Consumption Units)","query":"P360UsageData\n| where Timestamp > ago(365d)\n| order by Timestamp asc\n| extend Timestamp = format_datetime(Timestamp, \"MM-yyyy\")\n","layout":{"x":0,"y":28,"width":9,"height":8},"pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","visualType":"area","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"specified","value":"Timestamp"},"yColumns":{"type":"specified","value":["Quantity"]},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"d4f8be54-fe07-4d47-b7f1-e475d22d7403","title":"NIR (by month)","query":"P360UsageData\n| where Timestamp > endofmonth(ago(365d))\n| extend Month = endofmonth(Timestamp)\n| join (\nKPISupportData\n    | where CreatedDateTime > endofmonth(ago(365d))\n    | summarize CasesCreated = count() by TimeStamp=bin(CreatedDateTime, 1d)\n    | summarize IPD=avg(CasesCreated) by Month=endofmonth(TimeStamp)\n) on Month\n| extend NIR = round(IPD/Quantity*10000000, 2)\n| order by Month asc\n| project Month=format_datetime(Month, \"MM-yyyy\"), NIR","layout":{"x":9,"y":28,"width":9,"height":8},"pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","visualType":"line","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"5fe1c889-4151-4a4b-bc04-56940dd9f61c","title":"CRI (TTM)","query":"## Mitigate time (mitigation time - impact start time) (@P75) \r\nTarget - Sev 2: 4 Hrs, Sev 3&4: 72 Hrs","layout":{"x":0,"y":0,"width":23,"height":3},"pageId":"6f90296f-c867-497d-83fc-7529e7734ade","visualType":"markdownCard","usedParamVariables":[],"visualOptions":{}},{"id":"158dbe54-37c7-4e7f-9677-639a3a81158c","title":"Sev 2 (Count & TTM over months)","query":"cluster('icmdataro.centralus.kusto.windows.net').database('Common').Get_Cxp_CriReviewGroup\n| where ReviewGroup == \"Azure Data Explorer (Kusto)\"\n|join cluster(\"icmdataro.centralus.kusto.windows.net\").database(\"Common\").Get_Icm_Incidents on IncidentId\n| join hint.shufflekey=OwningTeamId kind = leftouter (cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_ServiceTree_Service()) on $left.OwningTeamId==$right.TeamId\n| where isnotempty(MitigateDate) and MitigateDate > startofmonth(ago(180d))\n| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n| project IncidentId, SevBucket = iff(Severity<=2, 2,3), TTMHours = TTM/60, month=endofmonth(MitigateDate),ReviewGroup\n| where SevBucket == 2\n| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month, SevBucket,ReviewGroup\n| order by month asc\n| project Month = format_datetime(month, \"MM-yyyy\"), ['TTM(@P75) Hours'], Tickets\n\n//ICMIncidents\n//| where isnotempty(MitigateDate) and MitigateDate > startofmonth(ago(180d))\n//| where Title has 'Customer Support' or Title  has 'CSS' \n//| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n//| project IncidentId, SevBucket = iff(Severity<=2, 2,3), TTMHours = TTM/60, month=endofmonth(MitigateDate)\n//| where SevBucket == 2\n//| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month, SevBucket\n//| order by month asc\n//| project Month = format_datetime(month, \"MM-yyyy\"), ['TTM(@P75) Hours'], Tickets\n","layout":{"x":0,"y":3,"width":11,"height":8},"pageId":"6f90296f-c867-497d-83fc-7529e7734ade","visualType":"line","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"specified","value":"Month"},"yColumns":{"type":"specified","value":["TTM(@P75) Hours","Tickets"]},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"horizontalLine":"","verticalLine":"","multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"9b162849-8a9e-41f0-a64f-93659b9da2fb","title":"Sev 3 (Count & TTM over months)","query":"cluster('icmdataro.centralus.kusto.windows.net').database('Common').Get_Cxp_CriReviewGroup\n| where ReviewGroup == \"Azure Data Explorer (Kusto)\"\n|join cluster(\"icmdataro.centralus.kusto.windows.net\").database(\"Common\").Get_Icm_Incidents on IncidentId\n| join hint.shufflekey=OwningTeamId kind = leftouter (cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_ServiceTree_Service()) on $left.OwningTeamId==$right.TeamId\n| where isnotempty(MitigateDate) and MitigateDate > startofmonth(ago(180d))\n| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n| project IncidentId, SevBucket = iff(Severity<=2, 2,3), TTMHours = TTM/60, month=endofmonth(MitigateDate),ReviewGroup\n| where SevBucket == 3\n| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month, SevBucket,ReviewGroup\n| order by month asc\n| project Month = format_datetime(month, \"MM-yyyy\"), ['TTM(@P75) Hours'], Tickets\n\n//ICMIncidents\n//| where isnotempty(MitigateDate) and MitigateDate > startofmonth(ago(180d))\n//| where Title has 'Customer Support' or Title  has 'CSS' \n//| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n//| project IncidentId, SevBucket = iff(Severity<=2, 2,3), TTMHours = TTM/60, month=endofmonth(MitigateDate)\n//| where SevBucket == 3\n//| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month, SevBucket\n//| order by month asc\n//| project Month = format_datetime(month, \"MM-yyyy\"), ['TTM(@P75) Hours'], Tickets","layout":{"x":11,"y":3,"width":12,"height":8},"pageId":"6f90296f-c867-497d-83fc-7529e7734ade","visualType":"line","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"specified","value":"Month"},"yColumns":{"type":"specified","value":["TTM(@P75) Hours","Tickets"]},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"horizontalLine":"","verticalLine":"","multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"6ddd72cc-7407-4bf7-8a76-8ad5a3b437a5","title":"Sev 2 (Last Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\ncluster('icmdataro.centralus.kusto.windows.net').database('Common').Get_Cxp_CriReviewGroup\n| where ReviewGroup == \"Azure Data Explorer (Kusto)\"\n|join (cluster(\"icmdataro.centralus.kusto.windows.net\").database(\"Common\").Get_Icm_Incidents | where MitigateDate >= ReportingPeriod and MitigateDate < CurrentMonth and Severity == 2) on IncidentId\n| join hint.shufflekey=OwningTeamId kind = leftouter (cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_ServiceTree_Service()) on $left.OwningTeamId==$right.TeamId\n| where isnotempty(MitigateDate) \n| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n| project IncidentId, TTMHours = TTM/60, month=endofmonth(MitigateDate),ReviewGroup\n| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month\n| project ['TTM(@P75) Hours'], Tickets\n| evaluate narrow()\n| extend GoalMet = iif((Column == \"['TTM(@P75) Hours']\" and toint(Value) > 4), \"No\", \"\")\n| project-away Row\n//ICMIncidents\n//| where MitigateDate >= ReportingPeriod and MitigateDate < CurrentMonth and Severity == 2 and isnotempty(MitigateDate)\n//| where Title has 'Customer Support' or Title  has 'CSS' \n//| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n//| project IncidentId, TTMHours = TTM/60, month=endofmonth(MitigateDate)\n//| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month\n//| project ['TTM(@P75) Hours'], Tickets\n//| evaluate narrow()\n//| extend GoalMet = iif((Column == \"['TTM(@P75) Hours']\" and toint(Value) > 4), \"No\", \"\")\n//| project-away Row\n","layout":{"x":0,"y":11,"width":6,"height":4},"pageId":"6f90296f-c867-497d-83fc-7529e7734ade","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"7b7933b1-5288-4c83-ab8d-f562920eca5d","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"No"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"High"}}}],"colorStyle":"bold","multiStat__textSize":"auto","multiStat__labelColumn":{"type":"specified","value":"Column"},"multiStat__valueColumn":{"type":"specified","value":"Value"},"multiStat__slot":{"width":2,"height":1}}},{"id":"6a2fc97c-46f0-4f99-96a7-d7a736afba90","title":"Sev 3 (Last Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\ncluster('icmdataro.centralus.kusto.windows.net').database('Common').Get_Cxp_CriReviewGroup\n| where ReviewGroup == \"Azure Data Explorer (Kusto)\"\n|join (cluster(\"icmdataro.centralus.kusto.windows.net\").database(\"Common\").Get_Icm_Incidents | where MitigateDate >= ReportingPeriod and MitigateDate < CurrentMonth and Severity == 3) on IncidentId\n| join hint.shufflekey=OwningTeamId kind = leftouter (cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_ServiceTree_Service()) on $left.OwningTeamId==$right.TeamId\n| where isnotempty(MitigateDate) \n| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n| project IncidentId, TTMHours = TTM/60, month=endofmonth(MitigateDate),ReviewGroup\n| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month\n| project ['TTM(@P75) Hours'], Tickets\n| evaluate narrow()\n| extend GoalMet = iif((Column == \"['TTM(@P75) Hours']\" and toint(Value) > 72), \"No\", \"\")\n| project-away Row\n//ICMIncidents\n//| where MitigateDate >= ReportingPeriod and MitigateDate < CurrentMonth and Severity == 3 and isnotempty(MitigateDate)\n//| where Title has 'Customer Support' or Title  has 'CSS' \n//| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n//| project IncidentId, TTMHours = TTM/60, month=endofmonth(MitigateDate)\n//| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month\n//| project ['TTM(@P75) Hours'], Tickets\n//| evaluate narrow()\n//| extend GoalMet = iif((Column == \"['TTM(@P75) Hours']\" and toint(Value) > 4), \"No\", \"\")\n//| project-away Row\n","layout":{"x":0,"y":15,"width":6,"height":4},"pageId":"6f90296f-c867-497d-83fc-7529e7734ade","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"62c200db-de42-4037-9eb9-2ebdee0329e8","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"No"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"High"}}}],"colorStyle":"bold","multiStat__textSize":"auto","multiStat__labelColumn":{"type":"specified","value":"Column"},"multiStat__valueColumn":{"type":"specified","value":"Value"},"multiStat__slot":{"width":2,"height":1}}},{"id":"a50ef748-97a4-4702-ac2d-491866f634da","title":"CRIs Last month (not met goal)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\ncluster('icmdataro.centralus.kusto.windows.net').database('Common').Get_Cxp_CriReviewGroup\n| where ReviewGroup == \"Azure Data Explorer (Kusto)\"\n|join (cluster(\"icmdataro.centralus.kusto.windows.net\").database(\"Common\").Get_Icm_Incidents | where MitigateDate >= ReportingPeriod and MitigateDate < CurrentMonth and Severity in (2, 3)) on IncidentId\n| join hint.shufflekey=OwningTeamId kind = leftouter (cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_ServiceTree_Service()) on $left.OwningTeamId==$right.TeamId\n| where isnotempty(MitigateDate) \n| extend TTMHours = round(tolong(totimespan(MitigateDate-ImpactStartDate)/1m)/60.0, 2)\n| project IncidentId,Severity, TTMHours, Title, CreateDate,ImpactStartDate, MitigateDate,ResolveDate,OwningContactAlias, Status\n| where ((Severity == 2 and TTMHours > 4) or (Severity == 3 and TTMHours > 72))\n| order by Severity asc ,TTMHours desc\n//ICMIncidents\n//| where MitigateDate >= ReportingPeriod and MitigateDate < CurrentMonth and Severity in (2, 3) and isnotempty(MitigateDate)\n//| where Title has 'Customer Support' or Title  has 'CSS' \n//| extend TTMHours = round(tolong(totimespan(MitigateDate-ImpactStartDate)/1m)/60.0, 2)\n//| project IncidentId,Severity, TTMHours, Title, CreateDate,ImpactStartDate, MitigateDate,ResolveDate,OwningContactAlias, Status\n//| where ((Severity == 2 and TTMHours > 4) or (Severity == 3 and TTMHours > 72))\n//| order by Severity asc ,TTMHours desc","layout":{"x":6,"y":11,"width":17,"height":8},"pageId":"6f90296f-c867-497d-83fc-7529e7734ade","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"7b7933b1-5288-4c83-ab8d-f562920eca5d","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"No"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"High"}}}],"colorStyle":"bold","table__enableRenderLinks":true,"table__renderLinksForColumns":[]}},{"id":"cf5cbb73-67cd-4ce2-a044-eab6028de4ab","title":"Sev 2 (Current Month)","query":"let CurrentMonth = startofmonth(now());\ncluster('icmdataro.centralus.kusto.windows.net').database('Common').Get_Cxp_CriReviewGroup\n| where ReviewGroup == \"Azure Data Explorer (Kusto)\"\n|join (cluster(\"icmdataro.centralus.kusto.windows.net\").database(\"Common\").Get_Icm_Incidents | where MitigateDate >= CurrentMonth and Severity == 2) on IncidentId\n| join hint.shufflekey=OwningTeamId kind = leftouter (cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_ServiceTree_Service()) on $left.OwningTeamId==$right.TeamId\n| where isnotempty(MitigateDate) \n| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n| project IncidentId, TTMHours = TTM/60, month=endofmonth(MitigateDate),ReviewGroup\n| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month\n| project ['TTM(@P75) Hours'], Tickets\n| evaluate narrow()\n| extend GoalMet = iif((Column == \"['TTM(@P75) Hours']\" and toint(Value) > 4), \"No\", \"\")\n| project-away Row\n//ICMIncidents\n//| where MitigateDate >= CurrentMonth and Severity == 2 and isnotempty(MitigateDate)\n//| where Title has 'Customer Support' or Title  has 'CSS' \n//| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n//| project IncidentId, TTMHours = TTM/60, month=endofmonth(MitigateDate)\n//| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month\n//| project ['TTM(@P75) Hours'], Tickets\n//| evaluate narrow()\n//| extend GoalMet = iif((Column == \"['TTM(@P75) Hours']\" and toint(Value) > 4), \"No\", \"\")\n//| project-away Row\n","layout":{"x":0,"y":19,"width":6,"height":4},"pageId":"6f90296f-c867-497d-83fc-7529e7734ade","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"7b7933b1-5288-4c83-ab8d-f562920eca5d","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"No"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"High"}}}],"colorStyle":"bold","multiStat__textSize":"auto","multiStat__labelColumn":{"type":"specified","value":"Column"},"multiStat__valueColumn":{"type":"specified","value":"Value"},"multiStat__slot":{"width":2,"height":1}}},{"id":"cd4f81ee-345b-4232-bac9-e859e850b498","title":"Sev 3 (Current Month)","query":"let CurrentMonth = startofmonth(now());\ncluster('icmdataro.centralus.kusto.windows.net').database('Common').Get_Cxp_CriReviewGroup\n| where ReviewGroup == \"Azure Data Explorer (Kusto)\"\n|join (cluster(\"icmdataro.centralus.kusto.windows.net\").database(\"Common\").Get_Icm_Incidents | where MitigateDate >= CurrentMonth and Severity == 3) on IncidentId\n| join hint.shufflekey=OwningTeamId kind = leftouter (cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_ServiceTree_Service()) on $left.OwningTeamId==$right.TeamId\n| where isnotempty(MitigateDate) \n| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n| project IncidentId, TTMHours = TTM/60, month=endofmonth(MitigateDate),ReviewGroup\n| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month\n| project ['TTM(@P75) Hours'], Tickets\n| evaluate narrow()\n| extend GoalMet = iif((Column == \"['TTM(@P75) Hours']\" and toint(Value) > 72), \"No\", \"\")\n| project-away Row\n//ICMIncidents\n//| where MitigateDate >= CurrentMonth and Severity == 3 and isnotempty(MitigateDate)\n//| where Title has 'Customer Support' or Title  has 'CSS' \n//| extend TTM = tolong(totimespan(MitigateDate-ImpactStartDate)/1m)\n//| project IncidentId, TTMHours = TTM/60, month=endofmonth(MitigateDate)\n//| summarize ['TTM(@P75) Hours']=percentile(TTMHours,75), Tickets=count() by month\n//| project ['TTM(@P75) Hours'], Tickets\n//| evaluate narrow()\n//| extend GoalMet = iif((Column == \"['TTM(@P75) Hours']\" and toint(Value) > 4), \"No\", \"\")\n//| project-away Row\n","layout":{"x":0,"y":23,"width":6,"height":4},"pageId":"6f90296f-c867-497d-83fc-7529e7734ade","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"62c200db-de42-4037-9eb9-2ebdee0329e8","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"No"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"High"}}}],"colorStyle":"bold","multiStat__textSize":"auto","multiStat__labelColumn":{"type":"specified","value":"Column"},"multiStat__valueColumn":{"type":"specified","value":"Value"},"multiStat__slot":{"width":2,"height":1}}},{"id":"eee9b053-23c3-4f7f-a098-804d97d11ccc","title":"CRIs Current Month  (not met goal)","query":"let CurrentMonth = startofmonth(now());\ncluster('icmdataro.centralus.kusto.windows.net').database('Common').Get_Cxp_CriReviewGroup\n| where ReviewGroup == \"Azure Data Explorer (Kusto)\"\n|join (cluster(\"icmdataro.centralus.kusto.windows.net\").database(\"Common\").Get_Icm_Incidents | where MitigateDate > CurrentMonth and Severity in (2, 3)) on IncidentId\n| join hint.shufflekey=OwningTeamId kind = leftouter (cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_ServiceTree_Service()) on $left.OwningTeamId==$right.TeamId\n| where isnotempty(MitigateDate) \n| extend TTMHours = round(tolong(totimespan(MitigateDate-ImpactStartDate)/1m)/60.0, 2)\n| project IncidentId,Severity, TTMHours, Title, CreateDate,ImpactStartDate, MitigateDate,ResolveDate,OwningContactAlias, Status\n| where ((Severity == 2 and TTMHours > 4) or (Severity == 3 and TTMHours > 72))\n| order by Severity asc ,TTMHours desc\n//ICMIncidents\n//| where MitigateDate > CurrentMonth and Severity in (2, 3) and isnotempty(MitigateDate)\n//| where Title has 'Customer Support' or Title  has 'CSS' \n//| extend TTMHours = round(tolong(totimespan(MitigateDate-ImpactStartDate)/1m)/60.0, 2)\n//| project IncidentId,Severity, TTMHours, Title, CreateDate,ImpactStartDate, MitigateDate,ResolveDate,OwningContactAlias, Status\n//| where ((Severity == 2 and TTMHours > 4) or (Severity == 3 and TTMHours > 72))\n//| order by Severity asc ,TTMHours desc\n","layout":{"x":6,"y":19,"width":17,"height":8},"pageId":"6f90296f-c867-497d-83fc-7529e7734ade","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"7b7933b1-5288-4c83-ab8d-f562920eca5d","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"No"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"High"}}}],"colorStyle":"bold","table__enableRenderLinks":true,"table__renderLinksForColumns":[]}},{"id":"e91cb190-0081-4f77-b0ad-7f3ea2e55b7a","title":"SESAT Scores","query":"let ReportingPeriod = startofmonth(datetime_add('month', -3, now()));\nrange Timestamp from datetime_add('month', -3, now()) to now() step 1d\n| summarize by Timestamp=startofmonth(Timestamp)\n| join kind=leftouter\n(\nKPISupportData\n| where startofmonth(ClosedDateTime) >= ReportingPeriod \n| join (cluster('https://U360sec.kusto.windows.net').database('KPISupportData').MicrosoftASEPSESATSESATAvgPROD()\n| where KpiId == \"Microsoft.ASEP.SESAT.SESATAvg\" and DerivedProductIDStr == \"16602\"\n| project KpiReferenceId, surveyScore) on $left.IncidentId == $right.KpiReferenceId\n| summarize SESAT=round(avg(tolong(surveyScore)),2), CaseCount=countif(isnotempty(surveyScore)) by Month=startofmonth(ClosedDateTime)\n) on $left.Timestamp == $right.Month\n| extend SESAT = iif(isempty(SESAT), 0.0, SESAT)\n| order by Timestamp asc\n| extend Month=format_datetime(Timestamp, \"MM-yyyy\")","layout":{"x":7,"y":0,"width":12,"height":4},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"SESAT"},"conditions":[{"value":"4.5","operator":"<"},{"operator":">","value":"0.0"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}},{"id":"7914c2b4-22d0-468d-9e13-c49d596b66ee","column":{"type":"specified","value":"SESAT"},"conditions":[{"operator":"<","value":"4.7"},{"value":"4.5","operator":">="}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium Score"}}},{"id":"670fbec0-6e69-4b18-af43-aba8dd2a2b1f","column":{"type":"specified","value":"SESAT"},"conditions":[{"operator":">=","value":"4.7"}],"color":"green","indicator":{"kind":"text","text":{"type":"specified","value":"Met target"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Month"},"multiStat__valueColumn":{"type":"specified","value":"SESAT"},"multiStat__slot":{"width":4,"height":1}}},{"id":"58c1ef04-8eab-445e-a6a0-93e1d8bd50de","title":"SESAT","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n| where startofmonth(ClosedDateTime) >= CurrentMonth\n| join (cluster('https://U360sec.kusto.windows.net').database('KPISupportData').MicrosoftASEPSESATSESATAvgPROD()\n| where KpiId == \"Microsoft.ASEP.SESAT.SESATAvg\" and DerivedProductIDStr == \"16602\"\n| project KpiReferenceId, surveyScore) on $left.IncidentId == $right.KpiReferenceId\n| summarize SESAT=round(avg(tolong(surveyScore)),2), CaseCount=countif(isnotempty(surveyScore)) by Month=startofmonth(ClosedDateTime)\n| project \"SESAT Score (Current Month)\",SESAT","layout":{"x":0,"y":9,"width":4,"height":5},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"SESAT"},"conditions":[{"value":"4.5","operator":"<"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}},{"id":"7914c2b4-22d0-468d-9e13-c49d596b66ee","column":{"type":"specified","value":"SESAT"},"conditions":[{"operator":"<","value":"4.7"},{"value":"4.5","operator":">="}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium Score"}}},{"id":"748d7369-51fe-4910-af3b-76e3d80a7177","column":{"type":"specified","value":"SESAT"},"conditions":[{"operator":">=","value":"4.7"}],"color":"green","indicator":{"kind":"text","text":{"type":"specified","value":"Met target"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"infer"},"multiStat__valueColumn":{"type":"specified","value":"SESAT"},"multiStat__slot":{"width":1,"height":1}}},{"id":"c49144fe-fa0a-4bdc-8d37-0fc30c003287","title":"SESAT","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n| where startofmonth(ClosedDateTime) >= CurrentMonth\n| join (cluster('https://U360sec.kusto.windows.net').database('KPISupportData').MicrosoftASEPSESATSESATAvgPROD()\n| where KpiId == \"Microsoft.ASEP.SESAT.SESATAvg\" and DerivedProductIDStr == \"16602\"\n| project KpiReferenceId, surveyScore) on $left.IncidentId == $right.KpiReferenceId\n| summarize CaseCount=countif(isnotempty(surveyScore)) by Month=startofmonth(ClosedDateTime)\n| project \"SESAT Cases (Current month)\",CaseCount\n\n","layout":{"x":4,"y":9,"width":4,"height":5},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"infer"},"multiStat__valueColumn":{"type":"specified","value":"CaseCount"},"multiStat__slot":{"width":1,"height":1}}},{"id":"e9882f70-d05a-4af8-b676-dcd9c4ed222f","title":"Low SESAT Tickets (last month)","query":"let lastMonth = startofmonth(datetime_add('month', -1, now()));\nKPISupportData\n| where startofmonth(ClosedDateTime) == lastMonth\n| join (cluster('https://U360sec.kusto.windows.net').database('KPISupportData').MicrosoftASEPSESATSESATAvgPROD()\n| where KpiId == \"Microsoft.ASEP.SESAT.SESATAvg\" and DerivedProductIDStr == \"16602\"\n| project KpiReferenceId, surveyScore) on $left.IncidentId == $right.KpiReferenceId\n| where tolong(surveyScore) < 4.7\n| extend ServiceDeskLink = strcat(\"https://servicedesk.microsoft.com/#/customer/case/\", IncidentId)\n| project IncidentId, ServiceDeskLink, SESAT=surveyScore,SupportTimeZone, AgentAlias, CreatedDateTime, ClosedDateTime, Severity, Title, ResourceUri, SupportTopicL2, SupportTopicL3, Customer, RelatedLSI_IDs","layout":{"x":8,"y":4,"width":11,"height":5},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"e9fd64f0-778e-4d80-afa9-44c59b156a79","column":{"type":"specified","value":"SESAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low"}}},{"id":"c0a55f32-7cd1-44ef-952f-2d13a70b3b2d","column":{"type":"specified","value":"SESAT"},"conditions":[{"value":"4.5","operator":">="},{"operator":"<","value":"4.7"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium"}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"]}},{"id":"ce9d5d43-5b8f-4db9-9642-a1e00232cd74","title":"SESAT","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n| where startofmonth(ClosedDateTime) >= ReportingPeriod and startofmonth(ClosedDateTime) < CurrentMonth\n| join (cluster('https://U360sec.kusto.windows.net').database('KPISupportData').MicrosoftASEPSESATSESATAvgPROD()\n| where KpiId == \"Microsoft.ASEP.SESAT.SESATAvg\" and DerivedProductIDStr == \"16602\"\n| project KpiReferenceId, surveyScore) on $left.IncidentId == $right.KpiReferenceId\n| summarize SESAT=round(avg(tolong(surveyScore)),2), CaseCount=countif(isnotempty(surveyScore)) by Month=startofmonth(ClosedDateTime)\n| project \"SESAT Score (Last Month)\",SESAT","layout":{"x":0,"y":4,"width":4,"height":5},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"SESAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}},{"id":"7914c2b4-22d0-468d-9e13-c49d596b66ee","column":{"type":"specified","value":"SESAT"},"conditions":[{"operator":"<","value":"4.7"},{"value":"4.5","operator":">="}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium Score"}}},{"id":"6f7aca3e-2824-4fd6-ad84-89df84748621","column":{"type":"specified","value":"SESAT"},"conditions":[{"operator":">=","value":"4.7"}],"color":"green","indicator":{"kind":"text","text":{"type":"specified","value":"Met target"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Column1"},"multiStat__valueColumn":{"type":"specified","value":"SESAT"},"multiStat__slot":{"width":1,"height":1}}},{"id":"e724a4aa-7b42-4915-83c7-db17fb9bb40f","title":"SESAT","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n| where startofmonth(ClosedDateTime) >= ReportingPeriod and startofmonth(ClosedDateTime) < CurrentMonth\n| join (cluster('https://U360sec.kusto.windows.net').database('KPISupportData').MicrosoftASEPSESATSESATAvgPROD()\n| where KpiId == \"Microsoft.ASEP.SESAT.SESATAvg\" and DerivedProductIDStr == \"16602\"\n| project KpiReferenceId, surveyScore) on $left.IncidentId == $right.KpiReferenceId\n| summarize CaseCount=countif(isnotempty(surveyScore)) by Month=startofmonth(ClosedDateTime)\n| project \"SESAT Cases (last month)\",CaseCount\n","layout":{"x":4,"y":4,"width":4,"height":5},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"infer"},"multiStat__valueColumn":{"type":"specified","value":"CaseCount"},"multiStat__slot":{"width":1,"height":1}}},{"id":"0ba8cab3-ddb7-4490-a8b9-196519c13fdc","title":"Low SESAT Tickets (Current Month)","query":"KPISupportData\n| where startofmonth(ClosedDateTime) == startofmonth(now())\n| join (cluster('https://U360sec.kusto.windows.net').database('KPISupportData').MicrosoftASEPSESATSESATAvgPROD()\n| where KpiId == \"Microsoft.ASEP.SESAT.SESATAvg\" and DerivedProductIDStr == \"16602\"\n| project KpiReferenceId, surveyScore) on $left.IncidentId == $right.KpiReferenceId\n| where tolong(surveyScore) < 4.7\n| extend ServiceDeskLink = strcat(\"https://servicedesk.microsoft.com/#/customer/case/\", IncidentId)\n| project IncidentId, ServiceDeskLink, SESAT=surveyScore, SupportTimeZone, AgentAlias,CreatedDateTime, ClosedDateTime, Severity, Title, ResourceUri, SupportTopicL2, SupportTopicL3, Customer, RelatedLSI_IDs\n","layout":{"x":8,"y":9,"width":11,"height":5},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"2de1d90f-5bee-425b-883e-d990bcbbb933","column":{"type":"specified","value":"SESAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low"}}},{"id":"156582d2-a478-4de2-b844-7e9046105727","column":{"type":"specified","value":"SESAT"},"conditions":[{"value":"4.5","operator":">="},{"operator":"<","value":"4.7"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium"}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"]}},{"id":"ed99022e-fec9-4235-84f5-3b94e018aa0e","title":"Top 10 Support Topics with low SESAT score","query":"let lastMonth = startofmonth(datetime_add('month', -1, now()));\nKPISupportData\n| join (cluster('https://U360sec.kusto.windows.net').database('KPISupportData').MicrosoftASEPSESATSESATAvgPROD()\n| where KpiId == \"Microsoft.ASEP.SESAT.SESATAvg\" and DerivedProductIDStr == \"16602\"\n| project KpiReferenceId, surveyScore) on $left.IncidentId == $right.KpiReferenceId| join (cluster('https://U360sec.kusto.windows.net').database('KPISupportData').MicrosoftASEPSESATSESATAvgPROD()\n| where KpiId == \"Microsoft.ASEP.SESAT.SESATAvg\" and DerivedProductIDStr == \"16602\"\n| project KpiReferenceId, surveyScore) on $left.IncidentId == $right.KpiReferenceId\n| summarize TotalCases=count(), OverallAvg=round(avg(tolong(surveyScore)), 2), LastMonthAvg=round(avgif(tolong(surveyScore), startofmonth(ClosedDateTime) == lastMonth),2) by SupportTopicL2\n| where isnan(OverallAvg) == false\n| top 10 by OverallAvg asc\n| project SupportTopicL2, TotalCases, OverallAvg, LastMonthAvg","layout":{"x":0,"y":14,"width":8,"height":8},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":[]}},{"id":"a4d7c8b1-f5ce-4fb0-b69f-11ccd7c4588c","title":"SE's Feedback","query":"KPISupportData\n| join (cluster('https://U360sec.kusto.windows.net').database('KPISupportData').MicrosoftASEPSESATSESATAvgPROD()\n| where KpiId == \"Microsoft.ASEP.SESAT.SESATAvg\" and DerivedProductIDStr == \"16602\"\n| project KpiReferenceId,Verbatim, surveyScore) on $left.IncidentId == $right.KpiReferenceId\n| where isnotempty(Verbatim)\n| order by CreatedDateTime desc\n| project IncidentId, SESAT=surveyScore, Verbatim, AgentAlias\n","layout":{"x":8,"y":14,"width":11,"height":8},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"2de1d90f-5bee-425b-883e-d990bcbbb933","column":{"type":"specified","value":"SESAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low"}}},{"id":"156582d2-a478-4de2-b844-7e9046105727","column":{"type":"specified","value":"SESAT"},"conditions":[{"value":"4.5","operator":">="},{"operator":"<","value":"4.7"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium"}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"]}},{"id":"25e3c347-6e28-4b2f-b374-2eefeae89d52","title":"Support Engineer Time (SET)","query":"## Actual Avg of total minutes spent for a service\r\n### Target - 121 mins","layout":{"x":0,"y":22,"width":7,"height":4},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"markdownCard","usedParamVariables":[],"visualOptions":{}},{"id":"6c85346e-5417-4f5e-ace1-7d3ed263976d","title":"SET Time","query":"let ReportingPeriod = startofmonth(datetime_add('month', -3, now()));\nrange Timestamp from datetime_add('month', -3, now()) to now() step 1d\n| summarize by Timestamp=startofmonth(Timestamp)\n| join kind=leftouter\n(\nKPISupportData\n| where startofmonth(ClosedDateTime) >= ReportingPeriod \n| summarize SET=round(sum(TotalLabourMinutes)), CaseCount=count() by Month=startofmonth(ClosedDateTime)\n| extend AvgSET = round(SET/CaseCount, 2)\n) on $left.Timestamp == $right.Month\n| extend AvgSET = iif(isempty(AvgSET), 0.0, AvgSET)\n| order by Timestamp asc\n| extend Month=format_datetime(Timestamp, \"MM-yyyy\")","layout":{"x":7,"y":22,"width":12,"height":4},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"AvgSET"},"conditions":[{"value":"121","operator":">"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Month"},"multiStat__valueColumn":{"type":"specified","value":"AvgSET"},"multiStat__slot":{"width":4,"height":1}}},{"id":"066ed79c-4195-4d0c-ab30-1603e8065704","title":"High SET Tickets (last month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n| where startofmonth(ClosedDateTime) >= ReportingPeriod and startofmonth(ClosedDateTime) < CurrentMonth\n| where TotalLabourMinutes > 121\n| extend ServiceDeskLink = strcat(\"https://servicedesk.microsoft.com/#/customer/case/\", IncidentId)\n| project IncidentId, ServiceDeskLink, SET=TotalLabourMinutes, CreatedDateTime, ClosedDateTime, Severity, Title, ResourceUri, SupportTopicL2, SupportTopicL3, Customer, RelatedLSI_IDs\n| order by SET desc","layout":{"x":4,"y":26,"width":15,"height":5},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"e9fd64f0-778e-4d80-afa9-44c59b156a79","column":{"type":"specified","value":"SET"},"conditions":[{"operator":">","value":"121"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"High"}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"]}},{"id":"0d00836a-c642-4c5a-9b57-23666557dac4","title":"SET","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n| where startofmonth(ClosedDateTime) >= ReportingPeriod and startofmonth(ClosedDateTime) < CurrentMonth\n| summarize SET=round(sum(TotalLabourMinutes)), CaseCount=count()\n| extend AvgSET = round(SET/CaseCount, 2)\n| project \"SET (Last Month)\",AvgSET","layout":{"x":0,"y":26,"width":4,"height":5},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"AvgSET"},"conditions":[{"operator":">","value":"121"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Column1"},"multiStat__valueColumn":{"type":"specified","value":"AvgSET"},"multiStat__slot":{"width":1,"height":1}}},{"id":"f2ed3780-7111-489a-9830-457529957c40","title":"SET","query":"let CurrentMonth = startofmonth(now());\nprint CurrentMonth=CurrentMonth\n| join kind=leftouter\n(\nKPISupportData\n| where startofmonth(ClosedDateTime) >= CurrentMonth\n| summarize SET=round(sum(TotalLabourMinutes)), CaseCount=count() by Month=startofmonth(ClosedDateTime)\n| extend AvgSET = round(SET/CaseCount, 2)\n) on $left.CurrentMonth == $right.Month\n| extend AvgSET = iif(isempty(AvgSET), 0.0, AvgSET)\n| project \"SET (Currrent Month)\",AvgSET","layout":{"x":0,"y":31,"width":4,"height":5},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"AvgSET"},"conditions":[{"operator":">","value":"121"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"infer"},"multiStat__valueColumn":{"type":"specified","value":"AvgSET"},"multiStat__slot":{"width":1,"height":1}}},{"id":"f2157276-bf6c-4248-a7ef-75c944f74ebe","title":"High SET Tickets (Current month)","query":"let CurrentMonth = startofmonth(now());\nKPISupportData\n| where startofmonth(ClosedDateTime) == CurrentMonth\n| where TotalLabourMinutes > 121\n| extend ServiceDeskLink = strcat(\"https://servicedesk.microsoft.com/#/customer/case/\", IncidentId)\n| project IncidentId, ServiceDeskLink, SET=TotalLabourMinutes, CreatedDateTime, ClosedDateTime, Severity, Title, ResourceUri, SupportTopicL2, SupportTopicL3, Customer, RelatedLSI_IDs\n| order by SET desc","layout":{"x":4,"y":31,"width":15,"height":5},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"e9fd64f0-778e-4d80-afa9-44c59b156a79","column":{"type":"specified","value":"SET"},"conditions":[{"operator":">","value":"121"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"High"}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"]}},{"id":"a8708855-65e8-412d-aae6-2057d47dcb8b","title":"ASC Usage (Public)","query":"## % of cases where support center was used\r\n### Target - 100%","layout":{"x":0,"y":36,"width":7,"height":4},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"markdownCard","usedParamVariables":[],"visualOptions":{}},{"id":"d97e499a-ce35-4af3-831e-b8ea1b2e6100","title":"ASC Usage","query":"let ReportingPeriod = startofmonth(datetime_add('month', -3, now()));\nlet CurrentMonth = startofmonth(now());\nrange Timestamp from datetime_add('month', -3, now()) to now() step 1d\n| summarize by Timestamp=startofmonth(Timestamp)\n| join kind=leftouter\n(\ncluster('u360sec').database('KPISupportData').ASCUsageData\n| where ProductId == 16602 and startofmonth(ClosedDateTime) >= ReportingPeriod\n| summarize countif(Sum_AscLookup > 0), TotalCount=count() by Month=startofmonth(ClosedDateTime)\n| extend ASCUsage = round(1.0*countif_/TotalCount*100.0, 2)\n) on $left.Timestamp == $right.Month\n| extend ASCUsage = iif(isempty(ASCUsage), 0.0, ASCUsage)\n| order by Timestamp asc\n| project Month=format_datetime(Timestamp, \"MM-yyyy\"), ASCUsage,ASCUsageDisplay=strcat(ASCUsage, \"%\")","layout":{"x":7,"y":36,"width":12,"height":4},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"ASCUsage"},"conditions":[{"operator":"<","value":"100"},{"operator":">","value":"0"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Month"},"multiStat__valueColumn":{"type":"specified","value":"ASCUsageDisplay"},"multiStat__slot":{"width":4,"height":1}}},{"id":"dff85210-e3cf-41fb-8c63-7905841b62cd","title":"Critical Insights Coverage","query":"## % of support requests where potential cases solving insight was presented\r\n### Target - 50%","layout":{"x":0,"y":40,"width":7,"height":4},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"markdownCard","usedParamVariables":[],"visualOptions":{}},{"id":"543eb159-0460-4da0-9064-4d25eb691122","title":"Critical Insights Coverage","query":"let ReportingPeriod = startofmonth(datetime_add('month', -3, now()));\nlet CurrentMonth = startofmonth(now());\nrange Timestamp from datetime_add('month', -3, now()) to now() step 1d\n| summarize by Timestamp=startofmonth(Timestamp)\n| join kind=leftouter\n(\ncluster('u360sec').database('KPISupportData').ASCInsightsData\n| where ProductId == 16602 and startofmonth(ClosedDateTime) >= ReportingPeriod\n| summarize countif(CountOfCriticalInsights > 0), TotalCount=count() by Month=startofmonth(ClosedDateTime)\n| extend CriticalInsights = round(1.0*countif_/TotalCount*100.0, 2)\n) on $left.Timestamp == $right.Month\n| extend CriticalInsights = iif(isempty(CriticalInsights), 0.0, CriticalInsights)\n| order by Timestamp asc\n| project Month=format_datetime(Timestamp, \"MM-yyyy\"), CriticalInsights,CriticalInsightsDisplay=strcat(CriticalInsights, \"%\")","layout":{"x":7,"y":40,"width":12,"height":4},"pageId":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"CriticalInsights"},"conditions":[{"operator":"<","value":"50"},{"operator":">","value":"0"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Month"},"multiStat__valueColumn":{"type":"specified","value":"CriticalInsightsDisplay"},"multiStat__slot":{"width":4,"height":1}}},{"id":"9212dad1-4557-494b-a05f-05c9b420085b","title":"Case Reviews","query":"## # of Support cases reviewed in a given month\n10% of case volume or 100 cases (90% of case volumes for teams with monthly closed volume under 100 cases)","layout":{"x":0,"y":0,"width":7,"height":4},"pageId":"58c5ce39-3efe-4848-8960-afb87fae7feb","visualType":"markdownCard","usedParamVariables":[],"visualOptions":{}},{"id":"24885edd-a437-4d40-a4f1-7f2ab7d6e843","title":"Case Reviews","query":"range Month from startofmonth(datetime_add('month', -3, now())) to startofmonth(now()) step 1d\n| summarize by Month = startofmonth(Month)\n| join kind=leftouter (ElixirCases | summarize TotalCases=count() by Month=startofmonth(CaseCreatedDate)) on Month\n| join kind=leftouter (ElixirCases\n| summarize TotalCasesReviewed=count() by Month=startofmonth(CaseReviewCompletedDate)\n) on Month\n| order by Month asc\n| project Month=format_datetime(Month, \"MM-yyyy\"), TotalCases,TotalCasesReviewed\n| extend Goal = iif(TotalCases > 100, 100.0, 0.9*TotalCases)\n| extend TotalCasesReviewed = iif(isempty(TotalCasesReviewed), 0, TotalCasesReviewed)\n| extend GoalMet = iif(Goal > TotalCasesReviewed, \"No\", \"Yes\")\n| project Month, TotalCasesReviewed, GoalMet","layout":{"x":7,"y":0,"width":12,"height":4},"pageId":"58c5ce39-3efe-4848-8960-afb87fae7feb","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"GoalMet"},"conditions":[{"operator":"==","value":"No"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Month"},"multiStat__valueColumn":{"type":"specified","value":"TotalCasesReviewed"},"multiStat__slot":{"width":4,"height":1}}},{"id":"328c2d0f-3048-4fa8-9ee4-b3ff6cefde9f","title":"CasesReviews (Last Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nElixirCases \n| where startofmonth(CaseCreatedDate) >= ReportingPeriod and startofmonth(CaseCreatedDate) < CurrentMonth\n| summarize TotalCases=count() by Month=startofmonth(CaseCreatedDate)\n| join kind=leftouter\n(ElixirCases\n| summarize TotalCasesReviewed=count() by Month=startofmonth(CaseReviewCompletedDate)\n) on Month\n| order by Month asc\n| extend TotalCasesReviewed = iif(isempty(TotalCasesReviewed), 0, TotalCasesReviewed)\n| extend Goal = iif(TotalCases > 100, 100.0, 0.9*TotalCases)\n| extend GoalMet = iif(TotalCasesReviewed < Goal, \"No\", \"Yes\")\n| project TotalCases, TotalCasesReviewed, GoalMet\n| evaluate narrow()\n| project-away Row\n\n\n\n\n","layout":{"x":0,"y":4,"width":6,"height":4},"pageId":"58c5ce39-3efe-4848-8960-afb87fae7feb","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"Value"},"conditions":[{"operator":"<","value":"100"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Column"},"multiStat__valueColumn":{"type":"specified","value":"Value"},"multiStat__slot":{"width":2,"height":1}}},{"id":"caebc520-9572-47eb-9b81-868e58e48593","title":"Cases Distribution (last month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nElixirCases \n| where startofmonth(CaseCreatedDate) >= ReportingPeriod and startofmonth(CaseCreatedDate) < CurrentMonth\n| summarize TotalCases=count() by Month=startofmonth(CaseCreatedDate), L2SupportTopic\n| join kind=leftouter\n(ElixirCases\n| summarize TotalCasesReviewed=count() by Month=startofmonth(CaseReviewCompletedDate), L2SupportTopic\n) on Month, L2SupportTopic\n| extend TotalCasesReviewed = iif(isempty(TotalCasesReviewed), 0, TotalCasesReviewed)\n| summarize TotalCases=sum(TotalCases), TotalCasesReviewed=sum(TotalCasesReviewed) by L2SupportTopic\n| order by TotalCases\n\n\n\n\n\n\n\n","layout":{"x":6,"y":4,"width":7,"height":8},"pageId":"58c5ce39-3efe-4848-8960-afb87fae7feb","visualType":"bar","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"hideLegend":true,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"a8381040-eaa6-48a5-89ea-1ea8141c033c","title":"CasesReviews (Current Month)","query":"let CurrentMonth = startofmonth(now());\nElixirCases \n| where startofmonth(CaseCreatedDate) >= CurrentMonth\n| summarize TotalCases=count() by Month=startofmonth(CaseCreatedDate)\n| join kind=leftouter\n(ElixirCases\n| summarize TotalCasesReviewed=count() by Month=startofmonth(CaseReviewCompletedDate)\n) on Month\n| order by Month asc\n| extend TotalCasesReviewed = iif(isempty(TotalCasesReviewed), 0, TotalCasesReviewed)\n| extend Goal = iif(TotalCases > 100, 100.0, 0.9*TotalCases)\n| extend GoalMet = iif(TotalCasesReviewed < Goal, \"No\", \"Yes\")\n| project TotalCases, TotalCasesReviewed, GoalMet\n| evaluate narrow()\n| project-away Row\n\n\n\n\n","layout":{"x":0,"y":8,"width":6,"height":4},"pageId":"58c5ce39-3efe-4848-8960-afb87fae7feb","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"baef4054-1f05-45af-a39b-5ea991fea9ef","column":{"type":"specified","value":"Value"},"conditions":[{"operator":"<","value":"100"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Column"},"multiStat__valueColumn":{"type":"specified","value":"Value"},"multiStat__slot":{"width":2,"height":1}}},{"id":"54e9ae45-446f-4f32-a01a-2e410ddfdb86","title":"Cases Distribution (Current month)","query":"let CurrentMonth = startofmonth(now());\nElixirCases \n| where startofmonth(CaseCreatedDate) >= CurrentMonth\n| summarize TotalCases=count() by Month=startofmonth(CaseCreatedDate), L2SupportTopic\n| join kind=leftouter\n(ElixirCases\n| summarize TotalCasesReviewed=count() by Month=startofmonth(CaseReviewCompletedDate), L2SupportTopic\n) on Month, L2SupportTopic\n| extend TotalCasesReviewed = iif(isempty(TotalCasesReviewed), 0, TotalCasesReviewed)\n| summarize TotalCases=sum(TotalCases), TotalCasesReviewed=sum(TotalCasesReviewed) by L2SupportTopic\n| order by TotalCases\n\n\n\n\n\n\n\n","layout":{"x":13,"y":4,"width":6,"height":8},"pageId":"58c5ce39-3efe-4848-8960-afb87fae7feb","visualType":"bar","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"hideLegend":true,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"d95b50f7-6c87-46bc-8d0f-d8e8429a5d80","title":"Cases Distribution (all time)","query":"ElixirCases \n| summarize TotalCases=count() by Month=startofmonth(CaseCreatedDate), L2SupportTopic\n| join kind=leftouter\n(ElixirCases\n| summarize TotalCasesReviewed=count() by Month=startofmonth(CaseReviewCompletedDate), L2SupportTopic\n) on Month, L2SupportTopic\n| extend TotalCasesReviewed = iif(isempty(TotalCasesReviewed), 0, TotalCasesReviewed)\n| summarize TotalCases=sum(TotalCases), TotalCasesReviewed=sum(TotalCasesReviewed) by L2SupportTopic\n| order by TotalCases\n\n\n\n\n\n\n\n","layout":{"x":0,"y":12,"width":13,"height":9},"pageId":"58c5ce39-3efe-4848-8960-afb87fae7feb","visualType":"stackedcolumn","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"2adb0ccb-1790-4b5b-8e58-57666f6cf0ff","title":"Top Case reviewers (all time)","query":"ElixirCases\n| where isnotempty(CaseReviewCompletedDate)\n| summarize TotalCasesReviewed=countif(isnotempty(CaseReviewCompletedDate)) by Reviewer\n\n\n\n\n\n\n\n","layout":{"x":13,"y":12,"width":6,"height":9},"pageId":"58c5ce39-3efe-4848-8960-afb87fae7feb","visualType":"bar","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"hideLegend":true,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"c4b3e608-3712-42dd-91c2-f6f4603654fb","title":"Improvement backlog","query":"## Under Construction\n","visualType":"markdownCard","pageId":"daf7a384-95ee-4b54-a8cc-d3c8de543bfa","layout":{"x":0,"y":0,"width":9,"height":7},"usedParamVariables":[],"visualOptions":{}},{"id":"f370c597-55bf-4747-9b07-73baf2e5392e","title":"Self Help","query":"The percentage of support cases deflected by providing customers with self-help content during case submission workflow in Azure portal\r\n\r\nGoal - 30%","visualType":"markdownCard","pageId":"08c4920c-045c-4a28-b70d-3c00a1fbca92","layout":{"x":0,"y":0,"width":6,"height":4},"usedParamVariables":[],"visualOptions":{}},{"id":"90b3d51a-590b-45b7-90b3-93827a2b9682","title":"Ava","query":"## Under Construction\n","visualType":"markdownCard","pageId":"37c4c224-6778-4abb-b7f8-fdb1e72e6143","layout":{"x":0,"y":0,"width":9,"height":7},"usedParamVariables":[],"visualOptions":{}},{"id":"5186402f-9f1a-414d-86be-98f53a65de38","title":"ASC RE Coverage","query":"## Under Construction\n","visualType":"markdownCard","pageId":"2e539155-f85f-4bee-aad9-55c5cd6034a7","layout":{"x":0,"y":0,"width":9,"height":7},"usedParamVariables":[],"visualOptions":{}},{"id":"c2c9bebd-8e78-4eb3-9076-eeff3da40a29","title":"GitHub","query":"## Under Construction\n","visualType":"markdownCard","pageId":"60cc27f9-2e31-4a43-b649-a036041100ae","layout":{"x":0,"y":0,"width":9,"height":7},"usedParamVariables":[],"visualOptions":{}},{"id":"96fce53f-2d4e-4c4b-b410-cfbb0e9a1333","title":"Brain","query":"## Under Construction\n","visualType":"markdownCard","pageId":"c32f3c16-ceb4-4d0e-80ae-6b4ba7186da1","layout":{"x":0,"y":0,"width":9,"height":7},"usedParamVariables":[],"visualOptions":{}},{"id":"08242935-f259-4d56-b5f7-851d0e167684","title":"Support Ticket Budget","query":"SupportBudget\r\n| extend BestForecast = FutureForecast - Reduction\r\n| extend ReductionFromOriginal = BestForecast - OriginalBudget\r\n| extend ['VarianceFromGoal (in %)'] = round(1.0*tolong(ReductionFromOriginal)/tolong(OriginalBudget),2)*100.0\r\n| extend ['VarianceFromGoal (in $)'] = ReductionFromOriginal*760","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"4b148bdb-2b72-4409-8aeb-f2f45edfa611","layout":{"x":0,"y":0,"width":18,"height":10},"usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":[]}},{"id":"0ea75ff9-edd6-42a0-bcc4-358c48396f74","title":"Upcoming Events","query":"## Synapse Integration\n## CSS Support consolidation for Internal and External","visualType":"markdownCard","pageId":"4b148bdb-2b72-4409-8aeb-f2f45edfa611","layout":{"x":0,"y":10,"width":18,"height":4},"usedParamVariables":[],"visualOptions":{}},{"id":"2882fb9c-2d5d-4b16-9900-8671d1cdfdd3","title":"Support Checklist","query":"## Dashboard release\n## Synapse spark intergration\n## 1-Click ingest\n## Insights, Azure Advisor and Resource Health","visualType":"markdownCard","pageId":"4b148bdb-2b72-4409-8aeb-f2f45edfa611","layout":{"x":0,"y":14,"width":18,"height":4},"usedParamVariables":[],"visualOptions":{}},{"id":"6c0afd6e-1184-40a2-98e3-f22349ef56a8","title":"CSAT Deep dive feedback","query":"### June 2022\n\nSR **2206060030000979** - Networking issue connecting to Public URL on VNet Injected cluster. Issue was exculated to networking team and properly handled.\n\nSR **2206200050000484** - Hotfix required to be pushed to cluster to resolve unexted behavior.\n\n### May 2022\n\nSR **2204210050004410** - Migration from v2 to v3. Handled correctly.\n\nSR **2204210050000111** - Customer attempting to ingest data from storage using 1Click with the access via SAS disabled. Informed customer that this isn't a supported configuration.\n\n### March 2022\n\nSR **2203100040001709** - Customer was upset because he thought case wasn't assigned to a engineer. This was an ARR case and the assigned engineer sent an email to the customer same day. Case set because there was no reply. \n\nSR **2203130050000004** - Case handled properly and promptly by support engineer. Syntax issue with purge command.\n\n### Feb 2022\n\nSR# **2112130040006688** - Attempting to connect to PE on SQL Server but lacked the DNS configuration on the VNET ADX was deployed to. I believe the low CSAT was due to the TTM. It was open in Dec and closed in Feb.\n\nSR# **2201130050000435** - Customer was confused on how a table row order policy worked along with the take operator. Customer talked directly to an engineer and was satisfied with answers given.\n\n### Jan 2022\n\nSR# **2112150040006902** - Customer getting ingestion failures trying to pull from Blob Storage. Case handled correctly and proper mitigation steps given. Due to storage throttling.\n\n### Dec 2021\n\nSR# **2111110060000611** - Customers’ cluster encountered two critical issues within 3 days, impacted customer business and made them feels anxious with ADX.\nCSAT 3 - SR 2111090060002164 / IcM 271294587: ADX execution by API failed, issue happened around 2021-11-09 09:00 ~ 22:20 UTC+8\nCSAT 4 - SR 2111110060000611 / IcM 271648859: Query Performance, issue happened around 2021-11-11 09:00 ~ 11:00 AM UTC+8\nBut the main concern of the case 2111110060000611 is that customer was using incorrect way on query workload then leads query perf issue.\nThis is caused by our documentation and product feature wasn’t matched; thus, customers were unable to follow the right path for their implementation. Confirmed this discrepancy with PG team and customers during remote session, then PG team fixed the product issue and corrected the documentation.\n\n### Nov 2021\nSR# **2111180050001859** - Customer seeing slow query performance. Escalated to operations who determined that optimizations in the v3 Query engine would resolve the issue. Prioritized customer migration to v3.\n\nCase was handled in a timely manner and customer seemed happy. Not sure why he provided a 3.\n\nSR# **2111090060002164** - Product improvement required extents to be realicated. As a result storage became a bottle neck. Once realication was complete cluster started working as expected.\n\nCould we have automatically allocated additional storage accounts and if so would that have prevented this issue?\n\nSR#**2110210050000312**- Dodo Pizza - Review done by cnisulescu. Customer reported an error while executing an error. CSS raised ICM 269034392 after 4 days in which additional questions and information have been asked from the customer as the error provided showed backend issue.The response from PG was that back in May this service encountered a bug that corrupted some extents and were not removed. So as luck would have it, this query is hitting that bad extent.In parallel, the customer escalated the case directly to ADX PM and the discussion continued until the solution has been provided. CSS reached out to ADX PM for an update and received the separate email thread with the response provided directly to the customer. Recovery has been initiated with the customer and waiting for a response and as a learning, we need to improve DTS and DTC and act as one Microsoft with all the parties involved.\n\nSR# **2109080060001895** - Trend Micro - Issue doing export to Parquet format. Was able to do export to csv. Believed to be cluster size issue. Suggesting increasing the number of nodes. Couldn't verify solution because customer didn't want to scale up.\nHow do we prevent this from happening again?\nBetter logging and error message so customer knows if cluster performance might be causing issue.\nAdded by shawnj - As we checked with PG, it was caused by a product issue (migrating '.export' related functionality, ETA is the end of this CY). From CSS perspective, another customer care call after Teams chat confirmation, and sent out detailed case summary for customer records would be better.\n\nSR# **2111010050001493** - - Customer accidently deleted resource group containing ADX cluster and was trying to get cluster restored. Escalated to operations who confirmed that restoration wasn't possible. Review done by cnisulescu : case solved in 2 days, customer was not happy that while there is a clear warning message when deleting the resource group, CSS could not provide a workaround. CSS escalated to operations to ask for help but there was no other alternative. Communicacation and case have been managed well.\n\nSR# **2111120060002432** -- Case was handled properly. Customer asking about Event Hub System properties when content is sent as gzip. Proper guidance was given.\n\n### Oct 2021\nSR# **2109150060002456** - Trend Micro - Customer having issue scaling up the cluster. Stating that after scale up you had to restart the cluster to get it to work. Support Engineer tested with same SKU and everything works. Timeing seemed to be the issue as after the portal said the operation was complete you still had to wait for cluster to be running and operational.\n\nHow do we prevent this from happening again?\nBetter notification of 1) When scale up operation is still happening 2) When the scale up operation is complete\n\nSR# **2109150040004202** - (ICM#261823277) Canadian National Railway - Customer could not scale ADX cluster gettting quota error message. Cluster was running on an unsupported sku and once updated on the backend issue was resolved.\n\nWhy it happened? Bug that has been resolved allow them to be running cluster on unsupported sku\n\nHow do we prevent this from happening again? Bug fix should prevent this in the future\n\nWhat went wrong? Case opened on 9-15 and not resolved until 10-6. I believe TTM was the major issue in this case. Primary reason for TTM was ADX Operations team availability with holiday season.\n\nSR# **2109220050000533** - Lind GmbH - Materialized view not working for the customer. Running the query manually would return reslts but MV was not being populated.\n\nWhy it happened? Bug in the parser. Customer was naming the aggregate field 1x (ex: 1x=avg()) and even though this works in interactive query it caused parsing error for MV.\n\nHow do we prevent this from happning again? Bug fix should resolve parsing error.\n\nSR# **2109130060000811** - Customer ingesting from Event Hub and was looking to ingest historical data. Any data landing into Event Hub prior to data connection will not be ingested and this is by design.\n\nSR# **2109140050002034** - Customer havine issues querying external table due to configuration issue. Issue was resolved after call with customer and customer was satisfied.\n\nSR# **2109220040007715** - Customer was getting errors connecting to the database. Issue was due to the size of the cluster and cache utilization. After customer moved off of DEV sku the issue went away.\n\n### Sep 2021\nSR# **2109060050002187** - Adobe - Query timeouts on customer cluster due to bug in Web UI. Hotfix was pushed to fix the issue. This was control commands not completing on cluster. \n\nHow do we prevent this from happening again?\nMore testing of updates before pushing out to clusters.\n\nSR# **2108180050001990** - QIAGEN GmbH - Customer was getting different results from regex in Kusto query between Kusto Explorer and Web UI. This was due to the way that the Web UI parses the new line character. A modification was provided for the Web UI query that returned the expected results.\n\nWhy it happened? WebUI handles new line conversion differently. Customer need to utilize following -- replace_regex(stage,@\"\\r?\\n\",'\",\\r\\n\"')\n\nHow do we prevent this from happening again?\n1) Is there a way to have both web and Kusto Explorer parse the same?\n2) Is there documentation that explains these differences?\n\nSR# **2109020040004689** - (ICM#259551302)ExxonMobil - ADX metrics aggregation not behaving as expected. Max and Min aggregations values are missing. Update was pushed to resolve the issue.\n\n### Aug 2021\n\nSR# **2107130050000809** - In this incident, CSS team didn't provide accurate response to the customer. After doing further analytics, CSS (and Ops team) discovered that Slow ingestion was due to not having enough resources for data management service which caused ingestion latency to increase. Few open questions/actions - 1. We need to publish common solution outlining how to monitor ingestion metrics, 2. A quick sync up with CSS on how to mitigate the knowledge gap, 3. Feedback to Ravit's team for additional insights, 4. Have Ingestion team perform a case review to understand why DM autoscale didn't work and how we can avoid this.\n\nSR# **2107220060002842** - Customer was using LogStash to ingest to ADX and the interval they were running at was causing the ingestion file to be too large. Once the interval was modified the ingestion to ADX happened as expected. CSS team response was good.TEST CN\n\nSR# **2108020050000874** - Customer asking about public preview feature (ADX Dashboard). Wanted way to automate deployment of Dashboard. Feature will be available at GA but during preview.\n\nSR# **2108100040006411** - Customer asking for query to see usage by ADX Dashboards. Case was handled well and solution was provided to see usage based on dashboard guid. Customer wanted ability to connect GUID to display name through the query. This is not supported due to privacy concerns and by design.\n\nSR# **2106090060003494** - This was an advisory case that was handled appropriately. Proper information was provided to the customer.\n\nSR# **2108040060002767** - Question regarding max table size. Ticket handled properly and customer was satisfied\nWhat are the gaps in the ticketing process?\nPossibly could have been deflected with proper \"Common Solution\"\n\n### July 2021\n\nSR# **2106160050002390** - Customer tried using Continuous export to run export at specific time that is not supported. CSS team response was valid to suggest customer to leverage ADF to complete the export as a scheduled activity.\n\nSR## **2107090050001782** - Customer was ingesting multiline json and wanted a system property from Event Hub to be populated in each of the rows. This isn't supported and the support engineer pointed him to our documentation that stated the same. Customer was satisfied with the response.\n\nSR## **2107010010003001** - Case was handled correctly by CSS. Issue was SKU picked by customer. A Common Solution or Diagnostic during ticket submission could have helped permit ticket.\n\nSR## **2107010040002648** - Customer looking for really low latency but the table was configured to use batch ingestion instead of streaming ingestion. A common solution could have prevented the ticket.\n\nSR## **2107010050001370** - Customer stated there was issue ingesting from Event Hub but by the time the ticket was received the issue was resolved.\n\nSR## **2107060060002537** - Couldn't use one-click ingestion because SAS token not accepted by their security team. Trying to use Managed Identity of the cluster but that is not supported. Customer solved the problem by using the Python SDK.\n\n### June 2021\n\n\nSR# **2106010060002275** - No idea why customer provided CSAT score as 1. Customer wanted to review how to monitor # of databases that are created on a cluster to alert if that number exceeds 10,000. CSAT could have certainly followed up on some justification on what is that they are trying to do. Still CSAT provided multiple ways customer can setup such an alert. Customer not provided by verbatim. No IcM ticket. Ticket was created by Partner - M&M Software GmbH (any one working with them? or want to join the customer followup meeting?). Customer is running D11_v2 (2 nodes) as engine.\n\n### May 2021\n\nSR# **2105100040002158** - \nWhat happened?\nData Management service (DM) is an internal component of Azure Data Explorer. Its responsible for reading events from Event Hub and ingesting them into the Engine where the data is indexed and cached for querying. DM nodes automatically scales in/out and up/down based on the resource (CPU and Memory) utilization. On May 9th, our automation detected low resource utilization on the DM service and decided to downgrade to from D13 SKU to D3 SKU. The intent here is to save customer money. Unfortunately, it failed mid-way and the DM stopped to process the queue for nearly 24 hours. The issue was mitigated on May 10th with a restart and bumping up the SKU to D13 for faster recovery. \n\nWhy it happened?\nThe exact root case of the provisioning failure\\service cache is still under investigation. There is an automation that detects failures and performs first level recovery, but this automation was not triggered due to a gap in our incident ticketing process.\n\nWhat were the gap in our incident ticketing process?\nMorgan Stanley’ cluster is running in a VNET injected mode. We need certain outbound IP address whitelisted to send telemetry back to our monitoring systems. On April 27th, our monitoring systems detected a VNET issue due to missing IP address. A Severity -2 alert was logged and we informed Morgan Stanley via Azure communication to add the missing IP Address. While awaiting for the fix from the customer side (which has unpredictable time), the Sev 2 ticket was downgraded to a Sev 4 ticket to unclutter the live site ticket queue. The IP changes was applied on April 28th by Morgan Stanley, but the ticket did not auto close because it required manual review. So when the DM failed on May 9th the alert was corelating to the open ticket that was in the Sev 4 queue and did not get the required attentions from the support system, including the automation to do the first level recovery.\n\nHow do we prevent this from happening again?\n1.\tWe made changes to our ticket priority and ticket auto-close process so that we don’t miss the new alerts in the future.\n2.\tAnalyzing your burst workload we recommend running the cluster at a minimum capacity that is ready to take on initial load as you start ingesting the data. We have now set your DM service to minimum 10 nodes to prevent it from scaling down and to give head start to deal with the burst ingestion. However, your workload need 28-30 DM nodes to address the burst ingestion volume. \n3.\tWe are looking at adding exclusion list for preventing downgrade of the nodes for dealing with burst ingestion scenarios.\n4.\tWe are working on a new feature of subnet delegation which is expected to be available by end of this month. This will eliminate the need for our customers to manage ADX monitoring related IP address. We will share the details as soon the feature is available. \n\nI also believe that there were gaps in EH partition management and some investigation is taking place.\n\n\nSR# **2105050010002205** - This was an issue where customer was ingesting JSON data and for some of the files were getting ingested with blank rows. Dev team was not able to reproduce the issue at the begining and later it was identified as the issue with large file size. Open questions are why there were no relevent ingestion failures? Customer is Daimler and IcM incident is 239829827.\n\nSR# **2104130010004122** - Customer tried adding his account to a group and  added that group as admin on ADX Database. Propogation of his account permission on the group took time and that is why customer provided low score for this ticket. This is not ADX issue. No further action.\n\n### April 2021\n\nSR# **2103180010000346** - Customer tried to start the cluster after AAD outage and cluster failed to start. Upon investigation, it was RCA'ed as a bug in VNET configuration wherre if the LB is connected to a Private link service. There is a bug open for this \"Bug 8900828: VNet cluster - throw an error on delete/suspend if the LB is connected to PLS\" - https://msazure.visualstudio.com/One/_workitems/edit/8900828. CSAT score for this ticket is 1. Customer deleted the service.\n\nSR# **2103260050000756** - Customer was using a Dev SKU and was running into control command throttling due to excessive set-or-append operation that were run using Logic Apps. SE team provided adequate response to the customer with the issue. Followup questions - Do we publish current limits with each SKU or the cluster in a user friendly way? Do we want to? Also a good candidate for Common solution, Diagnostics and ASC insights.\n\n### March 2021\n\nSR# **2103150050000413** - This issue was not escalated to Ops team for investigation. Per ticket summary, customer was using Light Ingest to backfill data and client side process ran fine but no data was ingested. Upon review by Support Engineer, he identified few files that ADX failed to ingest and provided feedback to customer on doing ingestion without those files. Customer was trying to learn on why those specific files were failing. Few suggestions were provided by Support Engineer without due dilligence like stop/start of cluster, delete table and recreate was not a good set to work with. Issue self miitigated and customer closed the ticket.\n\nSR# **2103110060002647** - Low CSAT seems justified on why customer had to whitelist all of Microsoft SAW namespace in their Firewall so SE team can access their Kusto Cluster and troubleshoot the issue. No much I could gather from the ticket. Since Customer cluster was behing VNET, Ops team need to access the cluster to troubleshoot. I would like to understand what capablity we are missing? Granting access to IPs is not something many customers are comfortable doing or can only do after exception from their security team. (IcM Ticket - https://portal.microsofticm.com/imp/v3/incidents/details/231387093/home)\n\nSR# **2103050040004996** - Low CSAT could be due to incomplete guidance on how to setup Auto Scale using metrics. In this ticket, customer setup very aggressive auto scale setting which was getting triggered multiple times and impacted cluster availability. Guidance was provided to help customer optimize the rule set. I believe we should review this to understand how to best enable guardrails in auto scale to avoid such issues or add Resource Health incidation of excessive scale operation and add guidance there. (IcM ticket - https://portal.microsofticm.com/imp/v3/incidents/details/230951691/home) \n\nSR# **2102230020004372** - Low CSAT from customer on the product bug where engine was trying to write the MD to a deleted container. \nMore info - \"We identified a bug in metadata which cause the delta file to be overridden in the following case:\n1.\tThe cluster had a restart or the Admin node was replaced\n2.\tThe first operation after the restart triggered writing of the metadata file artifact in the MD storage (only certain operations such as create/drop/alter table/function… cause this)\n3.\tAnother restart happened before object file was written (object files are written after the delta file reaches a certain size limit) – because of this, we prefer installing the hotfix in the beginning of next week, to allow clusters to recover on their own.\n \nIf all the above happen (low probability), this can cause data loss or errors regarding missing extent containers.\"\n\nSummary - Issue was fixed by manually updating the MD file. Is there a plan to address to fix these scenarios or take manual action to correct the MD file. (IcM Ticket -  https://portal.microsofticm.com/imp/v3/incidents/details/229360067/home)\n\nSR# **121021225000685** - Low CSAT could be because as part of the review, we (ADX, Event Hub and Azure Functions) couldn't establish the source of data duplication. CSS Provided instructions on what to capture next time when that happens (IcM Ticket - https://portal.microsofticm.com/imp/v3/incidents/details/228321102/home)\n\n### Feb 2021\n\nSR# **121012925002737** - Customer Struggled with getting ADX Data Connection created where Event Hub was deployed in customer VNET. Opportunity to add common solution for ingestion topic.\n\nSR# **121020225002893** - Customer was informed about a feature that was not available for Public preview yet and no public documentation released yet.\n\nSR# **121020225002898** - Same issue as 121020225002893. \n\nSR# **121020325002482** - This case should not have been routed to Azure Data Explorer team. Customer is having issues with not being able to create Grafana Data Connection with Azure Monitor. This ticket should be routed to Monitor team.\n\nSR# **2102230040004548** - Customer was looking for light weight or out of the box version control for ADX Schema which is only supported by CI/CD pipeline or SyncKusto tool. Customer left unsatisfied since both required effort on their part to implement. Feedback to CSS member - Always provide https://aka.ms/adx.uservoice link for customers to submit their feature asks.\n\n\n### Jan 2021\n\nSR# **121010626004294** - This ticket was created by an internal customer. Since customer used his AME creds, Email follow ups were undelivered. When CSS team reached out to internal customer for follow-up over Chat, customer closed the ticket with no follow-up and provided low score. Follow-up with customer will be scheduled to understand the experience and to learn more about the root cause of the issue.\n\nSR# **121011224005467** - This was an interesting case where Customer enabled Firewall on their Event Hub and ingestion into Kusto stopped working. Ideal way to fix was to deploy both Event Hub and Kusto Cluster into a VNET but that was not possible. As a workaround, Kusto Cluster managed identity was created and was given explicit permission on the event hub. Long term work is still being analyzed. \n\nSR# **121011324000779** - There are few important points about this ticket - 1. Customer requested support for cluster not starting which was resolved by itself and ticket transitioned to ingestion latency issue. 2. There were delays in getting the response to the customer and also not clear direction on how to make requested changes to the service. There are some improvement items in order to get better.","visualType":"markdownCard","pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","layout":{"x":0,"y":22,"width":19,"height":7},"usedParamVariables":[],"visualOptions":{}},{"id":"6f539d14-0464-40ce-bc57-50c1954d00ed","title":"Control Plane Error Count","query":"let ReportingPeriod = startofmonth(datetime_add('month', -3, now()));\nEventServiceEntries \n| where TIMESTAMP >= ReportingPeriod\n| where status == \"Failed\" and resourceProvider == \"Microsoft.Kusto\"\n| summarize count() by Month=startofmonth(TIMESTAMP)\n| order by Month asc\n| extend Change = (count_-prev(count_))/prev(count_)*100\n| extend Month=format_datetime(Month, \"MM-yyyy\")\n","layout":{"x":8,"y":0,"width":12,"height":4},"pageId":"3a658aa2-7ad3-4e48-bfae-2753b4d7bbc4","visualType":"multistat","dataSourceId":"648d6cdf-59b2-4cf2-ab39-c9a0568b4558","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"6823d923-e4dd-468f-8a38-84bafa802720","column":{"type":"specified","value":"Change"},"conditions":[{"operator":">","value":"100"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Unexpected Increase"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Month"},"multiStat__valueColumn":{"type":"specified","value":"count_"},"multiStat__slot":{"width":4,"height":1}}},{"id":"704f3697-7fc1-4baf-a1b2-9c34a524036c","title":"Error Message Improvement","query":"The goal of this effort is to have teams review all of their error messages which users encounter and ensure they are valuable. This includes both control plane and data plane error messages. Teams should familiarize themselves with the style guidance for error messages and ensure they are following appropriately. When teams identify gaps in product and support during the review, they should create work items for further product improvement","layout":{"x":0,"y":0,"width":8,"height":4},"pageId":"3a658aa2-7ad3-4e48-bfae-2753b4d7bbc4","visualType":"markdownCard","usedParamVariables":[],"visualOptions":{}},{"id":"3a38b8ce-e9e6-4365-9c4a-d61b2c3ce73c","title":"Top 10 Failed Status (Last Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nEventServiceEntries \n| where TIMESTAMP >= ReportingPeriod and TIMESTAMP < CurrentMonth\n| where status == \"Failed\" and resourceProvider == \"Microsoft.Kusto\" //and operationName == @\"Microsoft.Kusto/clusters/databases/write\"\n| project TIMESTAMP, subscriptionId, resourceUri, tenantId  , StatusCode=subStatus, properties\n| extend  statusmessage = extractjson(\"$.statusMessage\", properties)\n| extend code = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)).error)).code\n| mv-expand details= parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)).error)).details\n| extend pricode = details.code\n| extend code = iff(isempty(pricode),code, pricode)\n| extend Code = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)))).Error.Code\n| mv-expand Details= parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)))).Error.Details\n| extend PriCode = Details.Code\n| extend Code = iff(isempty(PriCode),Code, PriCode)\n| extend message = iif(parse_json(tostring(parse_json(properties).statusMessage)).message==\"\", parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)).error)).message, parse_json(tostring(parse_json(properties).statusMessage)).message)\n| extend Message = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)))).Error.Message\n| extend Message = iff(isempty(Message), message,Message)\n| extend StatusCode = iff(isempty(Code), iff(isempty(code), StatusCode,code), Code)\n| project-away  properties, message, Code, code, PriCode, pricode\n| summarize count() by StatusCode\n| top 10 by count_","layout":{"x":0,"y":7,"width":10,"height":8},"pageId":"3a658aa2-7ad3-4e48-bfae-2753b4d7bbc4","visualType":"bar","dataSourceId":"648d6cdf-59b2-4cf2-ab39-c9a0568b4558","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"ac188cd9-41fc-4b94-802c-f3b20085c97f","title":"Top 5 Operations (Last month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nEventServiceEntries \n| where TIMESTAMP >= ReportingPeriod and TIMESTAMP < CurrentMonth\n| where status == \"Failed\" and resourceProvider == \"Microsoft.Kusto\"\n| summarize count() by operationName\n| parse operationName with \"Microsoft.Kusto/clusters/\" Operation\n| top 5 by count_\n\n\n","layout":{"x":0,"y":4,"width":20,"height":3},"pageId":"3a658aa2-7ad3-4e48-bfae-2753b4d7bbc4","visualType":"multistat","dataSourceId":"648d6cdf-59b2-4cf2-ab39-c9a0568b4558","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__textSize":"auto","multiStat__labelColumn":{"type":"specified","value":"Operation"},"multiStat__valueColumn":{"type":"specified","value":"count_"},"multiStat__slot":{"width":5,"height":1}}},{"id":"b437f4f0-a3bd-423c-ab6c-7ca5dd023eda","title":"Top 5 Operations (Current month)","query":"let CurrentMonth = startofmonth(now());\nEventServiceEntries \n| where TIMESTAMP > CurrentMonth\n| where status == \"Failed\" and resourceProvider == \"Microsoft.Kusto\"\n| summarize count() by operationName\n| parse operationName with \"Microsoft.Kusto/clusters/\" Operation\n| top 5 by count_\n\n\n","layout":{"x":0,"y":15,"width":20,"height":3},"pageId":"3a658aa2-7ad3-4e48-bfae-2753b4d7bbc4","visualType":"multistat","dataSourceId":"648d6cdf-59b2-4cf2-ab39-c9a0568b4558","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__textSize":"auto","multiStat__labelColumn":{"type":"specified","value":"Operation"},"multiStat__valueColumn":{"type":"specified","value":"count_"},"multiStat__slot":{"width":5,"height":1}}},{"id":"3300c8d1-a987-4ed0-b4a2-f35f058eaf23","title":"Top 10 Clusters (Last Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nEventServiceEntries \n| where TIMESTAMP >= ReportingPeriod and TIMESTAMP < CurrentMonth\n| where status == \"Failed\" and resourceProvider == \"Microsoft.Kusto\" //and operationName == @\"Microsoft.Kusto/clusters/databases/write\"\n| project TIMESTAMP, subscriptionId, resourceUri, tenantId  , StatusCode=subStatus, properties\n| extend  statusmessage = extractjson(\"$.statusMessage\", properties)\n| extend code = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)).error)).code\n| extend Code = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)))).Error.Code\n| extend message = iif(parse_json(tostring(parse_json(properties).statusMessage)).message==\"\", parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)).error)).message, parse_json(tostring(parse_json(properties).statusMessage)).message)\n| extend Message = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)))).Error.Message\n| extend Message = iff(isempty(Message), message,Message)\n| extend StatusCode = iff(isempty(Code), iff(isempty(code), StatusCode,code), Code)\n| parse resourceUri with * \"Microsoft.Kusto/clusters/\"ClusterName\"/databases/\" *\n| project-away  properties, message, Code, code, statusmessage\n| summarize count() by ClusterName\n| top 10 by count_\n","layout":{"x":10,"y":7,"width":10,"height":8},"pageId":"3a658aa2-7ad3-4e48-bfae-2753b4d7bbc4","visualType":"bar","dataSourceId":"648d6cdf-59b2-4cf2-ab39-c9a0568b4558","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"9517e71a-9c59-420a-a56a-e9ed0998024c","title":"Top 10 Failed Status (Current Month)","query":"let CurrentMonth = startofmonth(now());\nEventServiceEntries \n| where TIMESTAMP >= CurrentMonth\n| where status == \"Failed\" and resourceProvider == \"Microsoft.Kusto\" //and operationName == @\"Microsoft.Kusto/clusters/databases/write\"\n| project TIMESTAMP, subscriptionId, resourceUri, tenantId  , StatusCode=subStatus, properties\n| extend  statusmessage = extractjson(\"$.statusMessage\", properties)\n| extend code = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)).error)).code\n| mv-expand details= parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)).error)).details\n| extend pricode = details.code\n| extend code = iff(isempty(pricode),code, pricode)\n| extend Code = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)))).Error.Code\n| mv-expand Details= parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)))).Error.Details\n| extend PriCode = Details.Code\n| extend Code = iff(isempty(PriCode),Code, PriCode)\n| extend message = iif(parse_json(tostring(parse_json(properties).statusMessage)).message==\"\", parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)).error)).message, parse_json(tostring(parse_json(properties).statusMessage)).message)\n| extend Message = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)))).Error.Message\n| extend Message = iff(isempty(Message), message,Message)\n| extend StatusCode = iff(isempty(Code), iff(isempty(code), StatusCode,code), Code)\n| project-away  properties, message, Code, code, PriCode, pricode\n| summarize count() by StatusCode\n| top 10 by count_","layout":{"x":0,"y":18,"width":10,"height":8},"pageId":"3a658aa2-7ad3-4e48-bfae-2753b4d7bbc4","visualType":"bar","dataSourceId":"648d6cdf-59b2-4cf2-ab39-c9a0568b4558","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"d09b1e27-359d-48df-acc7-35fe8d254fbd","title":"Top 10 Clusters (Current Month)","query":"let CurrentMonth = startofmonth(now());\nEventServiceEntries \n| where TIMESTAMP >= CurrentMonth\n| where status == \"Failed\" and resourceProvider == \"Microsoft.Kusto\" //and operationName == @\"Microsoft.Kusto/clusters/databases/write\"\n| project TIMESTAMP, subscriptionId, resourceUri, tenantId  , StatusCode=subStatus, properties\n| extend  statusmessage = extractjson(\"$.statusMessage\", properties)\n| extend code = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)).error)).code\n| extend Code = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)))).Error.Code\n| extend message = iif(parse_json(tostring(parse_json(properties).statusMessage)).message==\"\", parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)).error)).message, parse_json(tostring(parse_json(properties).statusMessage)).message)\n| extend Message = parse_json(tostring(parse_json(tostring(parse_json(properties).statusMessage)))).Error.Message\n| extend Message = iff(isempty(Message), message,Message)\n| extend StatusCode = iff(isempty(Code), iff(isempty(code), StatusCode,code), Code)\n| parse resourceUri with * \"Microsoft.Kusto/clusters/\"clustername\"/databases/\" *\n| parse resourceUri with * \"Microsoft.Kusto/Clusters/\"ClusterName\"/Databases/\" *\n| extend ClusterName = iif(isempty(ClusterName), clustername, ClusterName)\n| parse resourceUri with * \"Microsoft.Kusto/clusters/\"clustername1\n| parse resourceUri with * \"Microsoft.Kusto/Clusters/\"ClusterName1\n| extend ClusterName1 = iif(isempty(ClusterName1), clustername1, ClusterName1)\n| extend ClusterName = iif(isempty(ClusterName), ClusterName1, ClusterName)\n| project-away  properties, message, Code, code, clustername1, clustername, ClusterName1\n| extend ClusterName = iif(isempty(ClusterName), \"RPRegistration\", ClusterName)\n| summarize count() by ClusterName\n| top 10 by count_\n","layout":{"x":10,"y":18,"width":10,"height":8},"pageId":"3a658aa2-7ad3-4e48-bfae-2753b4d7bbc4","visualType":"bar","dataSourceId":"648d6cdf-59b2-4cf2-ab39-c9a0568b4558","usedParamVariables":[],"visualOptions":{"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"3b5a7b72-6b18-42e1-9289-6a537271a66b","title":"Self-Help Success","query":"let ReportingPeriod = startofmonth(datetime_add('month', -3, now()));\nrange Timestamp from datetime_add('month', -3, now()) to now() step 1d\n| summarize by Timestamp=startofmonth(Timestamp)\n| join kind=leftouter\n(\ncluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| where usageTime >= ReportingPeriod\n| summarize NumeratorValue = sum(numeratorQuantity), DenominatorValue = sum(denominatorQuantity) by Month=startofmonth(usageTime)\n| extend Quantity = iff(DenominatorValue == 0, double(null), NumeratorValue/DenominatorValue)\n) on $left.Timestamp == $right.Month\n| order by Timestamp asc\n| extend Month=format_datetime(Timestamp, \"MM-yyyy\")\n| project Month, ['Self-Help Success (%)']=round(Quantity*100, 2)","layout":{"x":6,"y":0,"width":15,"height":4},"pageId":"08c4920c-045c-4a28-b70d-3c00a1fbca92","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"6823d923-e4dd-468f-8a38-84bafa802720","column":{"type":"specified","value":"Self-Help Success (%)"},"conditions":[{"operator":"<","value":"30"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Low Score"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Month"},"multiStat__valueColumn":{"type":"specified","value":"Self-Help Success (%)"},"multiStat__slot":{"width":4,"height":1}}},{"id":"36b462ea-40d3-4d58-87e2-91d905e3e809","title":"Common Solution Exists today","query":"cluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| project SolutionType, HotspotUrl, SupportTopicL2, SupportTopicL3\n| extend isCommonSolution = iif(SolutionType == \"CommonSolutions\", \"Yes\", \"No\")\n| where isCommonSolution == \"Yes\"\n| summarize by SupportTopicL2, SupportTopicL3, CommonSolution=isCommonSolution\n| where isnotempty(SupportTopicL3) //and CommonSolution == \"Yes\"\n| order by SupportTopicL2, SupportTopicL3","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"08c4920c-045c-4a28-b70d-3c00a1fbca92","layout":{"x":0,"y":4,"width":8,"height":4},"usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"9af2a132-7965-4b60-8fee-dd5468052d0b","column":{"type":"specified","value":"CommonSolution"},"conditions":[{"operator":"==","value":"No"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":" "}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":[]}},{"id":"65b68a9d-9a33-427f-a192-577ee77ddfb8","title":"Control Plane Error Count","query":"cluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| project SolutionType, HotspotUrl, SupportTopicL2, SupportTopicL3\n| extend isArticle = iif(SolutionType in (\"CommonSolutions\", 'Apollo', 'Video', 'AzureMonitorMetric'), \"Yes\", \"No\")\n| summarize by SupportTopicL2, SupportTopicL3, CommonSolution=isArticle\n| where isnotempty(SupportTopicL3) //and CommonSolution == \"Yes\"\n| order by SupportTopicL2, SupportTopicL3\n| summarize SolutionPresent=countif(CommonSolution == \"Yes\"), SolutionNotPresent=countif(CommonSolution == \"No\"), TotalTopics = count()\n| extend ['%Coverage'] = round(toreal(SolutionPresent)/toreal(TotalTopics)*100.0, 1)\n| evaluate narrow()\n| project-away Row\n| project Column, Value=round(toreal(Value), 2)","layout":{"x":8,"y":4,"width":13,"height":4},"pageId":"08c4920c-045c-4a28-b70d-3c00a1fbca92","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"6823d923-e4dd-468f-8a38-84bafa802720","column":{"type":"specified","value":"Change"},"conditions":[{"operator":">","value":"100"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Unexpected Increase"}}}],"colorStyle":"bold","multiStat__textSize":"large","multiStat__labelColumn":{"type":"specified","value":"Column"},"multiStat__valueColumn":{"type":"specified","value":"Value"},"multiStat__slot":{"width":4,"height":1},"hideTileTitle":false,"multiStat__displayOrientation":"horizontal"}},{"id":"25f645af-44ef-4437-b853-2e0ad01299de","title":"Deflection Enablers (Last Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\ncluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| where usageTime >= ReportingPeriod and usageTime < startofmonth(now())\n| where IsAbandoned == \"Yes\" and IsDeflected == \"Yes\" and isnotempty(ArticleId)\n| summarize dcount(WorkflowId) by SolutionType// Please enter your KQL query (Example):\n// <table name>\n// | where <datetime column> between (['_startTime'] .. ['_endTime']) // Time range filtering\n// | where isempty(['param_ReviewMonth']) or <column name> == ['param_ReviewMonth'] // Single selection filtering\n// | take 100\n","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"pie","pageId":"08c4920c-045c-4a28-b70d-3c00a1fbca92","layout":{"x":0,"y":8,"width":6,"height":8},"usedParamVariables":[],"visualOptions":{}},{"id":"970ea90a-a844-4baf-ad84-85b255336827","title":"Non ADX Articles (Last Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\ncluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| where usageTime >= ReportingPeriod and usageTime < startofmonth(now())\n| where IsAbandoned == \"Yes\" and IsDeflected == \"Yes\" and isnotempty(ArticleId)\n| project ResourceName, usageTime, numeratorQuantity, denominatorQuantity, WorkflowId, ArticleUrl,HotspotUrl, UserSessionId,IsAbandoned, SolutionType,IsSolutionPresented,SimilarWorkflowCount, IsDeflected\n| where SolutionType == \"AzureKb\"\n| extend ArticleSource = case(ArticleUrl contains \"docs.microsoft.com\", \"Microsoft Docs\", ArticleUrl contains \"stackoverflow.com\", \"Stackoverflow\", ArticleUrl contains \"social.msdn.microsoft.com\", \"MSDN\", ArticleUrl contains \"github.com\", \"Github\",\"Other\")\n| summarize dcount(WorkflowId) by ArticleSource","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"pie","pageId":"08c4920c-045c-4a28-b70d-3c00a1fbca92","layout":{"x":6,"y":8,"width":6,"height":8},"usedParamVariables":[],"visualOptions":{}},{"id":"c52c07ea-b9e0-4684-a67e-d4b82807b22c","title":"ADX Articles (Last Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\ncluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| where usageTime >= ReportingPeriod and usageTime < startofmonth(now())\n| where IsAbandoned == \"Yes\" and IsDeflected == \"Yes\" and isnotempty(ArticleId)\n| project ResourceName, usageTime, numeratorQuantity, denominatorQuantity, WorkflowId, ArticleId,ArticleUrl,HotspotUrl, UserSessionId,IsAbandoned, SolutionType,IsSolutionPresented,SimilarWorkflowCount, IsDeflected\n| where SolutionType != \"AzureKb\"\n| extend ArticleId = replace(\"/articles/\", \"\", ArticleId)\n| summarize TicektsDeflected=dcount(WorkflowId) by ArticleId, SolutionType","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"08c4920c-045c-4a28-b70d-3c00a1fbca92","layout":{"x":12,"y":8,"width":9,"height":8},"usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":[]}},{"id":"75f51596-0a2c-4de1-9385-4b9be09c596b","title":"Avg CSAT Customers (last month)","query":"let lastMonth = startofmonth(datetime_add('month', -1, now()));\nKPISupportData\n| where startofmonth(ClosedDateTime) == lastMonth\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| where isnotempty(CSAT)\n| summarize AvgCSAT= avg(CSAT) by Customer\n| order by AvgCSAT asc\n\n\n","layout":{"x":0,"y":9,"width":6,"height":4},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"2de1d90f-5bee-425b-883e-d990bcbbb933","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low"}}},{"id":"156582d2-a478-4de2-b844-7e9046105727","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":">","value":"4.5"},{"operator":"<","value":"4.62"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium"}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"]}},{"id":"b839a184-1105-45cc-8676-28cf9111f97b","title":"CSAT Customer Feedback (Last month)","query":"let lastMonth = startofmonth(datetime_add('month', -1, now()));\nKPISupportData\n| where startofmonth(ClosedDateTime) == lastMonth\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| where isnotempty(CSAT)\n| project IncidentId, CSAT, Customer, CustomerSurveyVerbatims\n| order by CSAT asc\n","layout":{"x":6,"y":9,"width":13,"height":4},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"2de1d90f-5bee-425b-883e-d990bcbbb933","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low"}}},{"id":"156582d2-a478-4de2-b844-7e9046105727","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":">","value":"4.5"},{"operator":"<","value":"4.62"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium"}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"]}},{"id":"16ccb5e6-d6da-455c-8c1b-9bd288afa862","title":"Avg CSAT Customers (Current month)","query":"let lastMonth = startofmonth(datetime_add('month', -1, now()));\nKPISupportData\n| where startofmonth(ClosedDateTime) > lastMonth\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| where isnotempty(CSAT)\n| summarize AvgCSAT= avg(CSAT) by Customer\n| order by AvgCSAT asc\n\n\n","layout":{"x":0,"y":18,"width":6,"height":4},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"2de1d90f-5bee-425b-883e-d990bcbbb933","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low"}}},{"id":"156582d2-a478-4de2-b844-7e9046105727","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":">","value":"4.5"},{"operator":"<","value":"4.62"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium"}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"]}},{"id":"5b9eb27e-d7d0-43b8-845c-3313cd6cd64c","title":"CSAT Customer Feedback (Current month)","query":"let lastMonth = startofmonth(datetime_add('month', -1, now()));\nKPISupportData\n| where startofmonth(ClosedDateTime) > lastMonth\n| extend CSAT = iif(isempty(TotalCsatScore), TotalChatCSATScore, TotalCsatScore)\n| where isnotempty(CSAT)\n| project IncidentId, CSAT, Customer, CustomerSurveyVerbatims\n| order by CSAT asc\n","layout":{"x":6,"y":18,"width":13,"height":4},"pageId":"ce63b5c5-0439-41f8-a759-11aad904b1ea","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[{"id":"2de1d90f-5bee-425b-883e-d990bcbbb933","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":"<","value":"4.5"}],"color":"red","indicator":{"kind":"text","text":{"type":"specified","value":"Low"}}},{"id":"156582d2-a478-4de2-b844-7e9046105727","column":{"type":"specified","value":"CSAT"},"conditions":[{"operator":">","value":"4.5"},{"operator":"<","value":"4.62"}],"color":"yellow","indicator":{"kind":"text","text":{"type":"specified","value":"Medium"}}}],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":["ServiceDeskLink"]}},{"id":"0e9b5718-2af5-418c-be8d-4a8e6c310782","title":"Deflection Enablers (Current Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\ncluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| where usageTime >= startofmonth(now())\n| where IsAbandoned == \"Yes\" and IsDeflected == \"Yes\" and isnotempty(ArticleId)\n| summarize dcount(WorkflowId) by SolutionType// Please enter your KQL query (Example):\n// <table name>\n// | where <datetime column> between (['_startTime'] .. ['_endTime']) // Time range filtering\n// | where isempty(['param_ReviewMonth']) or <column name> == ['param_ReviewMonth'] // Single selection filtering\n// | take 100\n","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"pie","pageId":"08c4920c-045c-4a28-b70d-3c00a1fbca92","layout":{"x":0,"y":16,"width":6,"height":8},"usedParamVariables":[],"visualOptions":{}},{"id":"0a633d5f-ba89-49b4-ba8e-3917d45c91a8","title":"Non ADX Articles (Current Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\ncluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| where usageTime >= startofmonth(now())\n| where IsAbandoned == \"Yes\" and IsDeflected == \"Yes\" and isnotempty(ArticleId)\n| project ResourceName, usageTime, numeratorQuantity, denominatorQuantity, WorkflowId, ArticleUrl,HotspotUrl, UserSessionId,IsAbandoned, SolutionType,IsSolutionPresented,SimilarWorkflowCount, IsDeflected\n| where SolutionType == \"AzureKb\"\n| extend ArticleSource = case(ArticleUrl contains \"docs.microsoft.com\", \"Microsoft Docs\", ArticleUrl contains \"stackoverflow.com\", \"Stackoverflow\", ArticleUrl contains \"social.msdn.microsoft.com\", \"MSDN\", ArticleUrl contains \"github.com\", \"Github\",\"Other\")\n| summarize dcount(WorkflowId) by ArticleSource","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"pie","pageId":"08c4920c-045c-4a28-b70d-3c00a1fbca92","layout":{"x":6,"y":16,"width":6,"height":8},"usedParamVariables":[],"visualOptions":{}},{"id":"577e7b66-6a08-441f-a51a-f3c60c6b05a8","title":"ADX Articles (Current Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\ncluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| where usageTime >= startofmonth(now())\n| where IsAbandoned == \"Yes\" and IsDeflected == \"Yes\" and isnotempty(ArticleId)\n| project ResourceName, usageTime, numeratorQuantity, denominatorQuantity, WorkflowId, ArticleId,ArticleUrl,HotspotUrl, UserSessionId,IsAbandoned, SolutionType,IsSolutionPresented,SimilarWorkflowCount, IsDeflected\n| where SolutionType != \"AzureKb\"\n| extend ArticleId = replace(\"/articles/\", \"\", ArticleId)\n| summarize TicektsDeflected=dcount(WorkflowId) by ArticleId, SolutionType","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"08c4920c-045c-4a28-b70d-3c00a1fbca92","layout":{"x":12,"y":16,"width":9,"height":8},"usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","table__enableRenderLinks":true,"table__renderLinksForColumns":[]}},{"id":"27328a20-1e26-4ab3-8c21-781302ffe2c5","title":"Top 5 Sub Topics (Last month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nlet TopCategory = KPISupportData\n    | where CreatedDateTime >= ReportingPeriod and CreatedDateTime < CurrentMonth\n    | summarize CasesCreated = count() by SupportTopicL2\n| top 1 by CasesCreated\n| project SupportTopicL2;\nKPISupportData\n| where CreatedDateTime >= ReportingPeriod and CreatedDateTime < CurrentMonth and SupportTopicL2 == toscalar(TopCategory)\n | summarize CasesCreated = count() by SupportTopicL3\n| top 5 by CasesCreated\n\n","layout":{"x":0,"y":14,"width":18,"height":3},"pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","visualType":"multistat","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__textSize":"auto","multiStat__labelColumn":{"type":"specified","value":"SupportTopicL3"},"multiStat__valueColumn":{"type":"specified","value":"CasesCreated"},"multiStat__slot":{"width":5,"height":1}}},{"id":"af09d5e0-765b-4149-90ec-270ac59f8219","title":"Engine V3 Migration","query":"KPISupportData\n    | where CreatedDateTime >= todatetime(\"2021-03-01\")\n    | where Title contains \"v3\"\n    | summarize Cases=count() by startofmonth(CreatedDateTime)// Please enter your KQL query (Example):\n","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"column","pageId":"156e96c5-dc5c-4515-aef2-1b95897ca276","layout":{"x":12,"y":3,"width":6,"height":5},"usedParamVariables":[],"visualOptions":{"xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"hideLegend":false,"xColumnTitle":"","yColumnTitle":"","horizontalLine":"","verticalLine":"","xAxisScale":"linear","yAxisScale":"linear","yAxisMaximumValue":{"type":"infer"},"yAxisMinimumValue":{"type":"infer"},"multipleYAxes":{"base":{"id":"-1","columns":[],"label":"","yAxisMinimumValue":null,"yAxisMaximumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[]}}},{"id":"5956516f-e170-4ff6-b084-3cffd896e2a1","title":"ICM Percentage","query":"KPISupportData\n| where startofmonth(ClosedDateTime) >= startofmonth(ago(90d))\n| summarize ICMTickets=countif(isnotempty(RelatedICM_IDs)),NonICM=countif(isempty(RelatedICM_IDs)), count() by Month=startofmonth(ClosedDateTime)\n| order by Month\n| project PercentICM=strcat(round(((todouble(ICMTickets)/todouble(count_)) * 100),2),' %'), Total=count_, Month=strcat(datetime_part('Month',Month),'-',datetime_part('Year',Month), ' (', count_, ')')","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"multistat","pageId":"076ec38f-f13f-47c6-b0b3-18a67cbd6e0e","layout":{"x":0,"y":0,"width":12,"height":3},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"specified","value":"PercentICM"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light","multiStat__displayOrientation":"horizontal","multiStat__labelColumn":{"type":"specified","value":"Month"},"multiStat__slot":{"width":4,"height":1}}},{"id":"4724a0c6-b06d-4d8d-9c07-4f17c71f2243","title":"Top Cases by Customer (prev Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n    | where CreatedDateTime >= ReportingPeriod and CreatedDateTime < CurrentMonth\n     | summarize CasesCreated = count(),Sev1=countif(MaxSeverity == 1),Sev1DaysSolution=round(avgif(todouble(DaysToSolution),MaxSeverity==1 ),2), Sev2=countif(MaxSeverity == 2),Sev2DaysSolution=round(avgif(todouble(DaysToSolution),MaxSeverity==2 ),2), Sev3=countif(MaxSeverity == 3),Sev3DaysSolution=round(avgif(todouble(DaysToSolution),MaxSeverity==3 ),2), Sev4=countif(MaxSeverity == 4), Sev4DaysSolution=round(avgif(todouble(DaysToSolution),MaxSeverity==4 ),2) by Customer\n| top 5 by CasesCreated\n","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"076ec38f-f13f-47c6-b0b3-18a67cbd6e0e","layout":{"x":0,"y":3,"width":22,"height":6},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"crossFilter":[]}},{"id":"5216b1f5-cdf6-475a-8868-9ae470a66c5d","title":"Top Cases by Customer (cur Month)","query":"let ReportingPeriod = startofmonth(now());\nKPISupportData\n    | where CreatedDateTime >= ReportingPeriod \n     | summarize CasesCreated = count(),Sev1=countif(MaxSeverity == 1),Sev1DaysSolution=round(avgif(todouble(DaysToSolution),MaxSeverity==1 ),2), Sev2=countif(MaxSeverity == 2),Sev2DaysSolution=round(avgif(todouble(DaysToSolution),MaxSeverity==2 ),2), Sev3=countif(MaxSeverity == 3),Sev3DaysSolution=round(avgif(todouble(DaysToSolution),MaxSeverity==3 ),2), Sev4=countif(MaxSeverity == 4), Sev4DaysSolution=round(avgif(todouble(DaysToSolution),MaxSeverity==4 ),2) by Customer\n| top 5 by CasesCreated\n","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"076ec38f-f13f-47c6-b0b3-18a67cbd6e0e","layout":{"x":0,"y":9,"width":22,"height":6},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"crossFilter":[]}},{"id":"405c108f-c392-4eeb-9034-3f7d70be2060","title":"Deflection Stats (prev Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now())-1tick;\nlet TotalCases = toscalar(KPISupportData\n    | where CreatedDateTime >= ReportingPeriod and CreatedDateTime < CurrentMonth\n    | count);\nlet data = cluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| where usageTime >= ReportingPeriod and usageTime < startofmonth(now())\n| where IsAbandoned == \"Yes\" and IsDeflected == \"Yes\" and isnotempty(ArticleId);\nlet deflectCount = toscalar(data\n    | count);\ndata\n| summarize dcount(WorkflowId) by SolutionType\n| extend PctOfTotal=round((todouble(dcount_WorkflowId)/TotalCases) * 100,2)\n| extend PctofDeflections=round((todouble(dcount_WorkflowId)/deflectCount) * 100,2) \n","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"076ec38f-f13f-47c6-b0b3-18a67cbd6e0e","layout":{"x":0,"y":15,"width":9,"height":7},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"crossFilter":[]}},{"id":"d84162f0-26e4-4f3f-a7f8-a06759a93e6d","title":"Max Days to Solution by Sev (prev Month)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now());\nKPISupportData\n        | extend TotalTicketTime=ClosedDateTime-CreatedDateTime\n    | summarize arg_max(TotalTicketTime, *) by MaxSeverity\n    | project MaxSeverity, TotalTicketTime, DaysToSolution, IncidentId, IsEscalated, IsCritSit, ServiceName\n","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"076ec38f-f13f-47c6-b0b3-18a67cbd6e0e","layout":{"x":0,"y":38,"width":13,"height":7},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"crossFilter":[]}},{"id":"4c94ac74-70b2-45d1-a188-6392471e7363","title":"Max Days to Solution by Sev (prev Month)","query":"let CurrentMonth = startofmonth(now());\nKPISupportData\n    | where CreatedDateTime >= CurrentMonth\n    | extend TotalTicketTime=ClosedDateTime-CreatedDateTime\n    | summarize arg_max(TotalTicketTime, *) by MaxSeverity\n    | project MaxSeverity, TotalTicketTime, DaysToSolution, IncidentId, IsEscalated, IsCritSit, ServiceName\n","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"076ec38f-f13f-47c6-b0b3-18a67cbd6e0e","layout":{"x":0,"y":32,"width":13,"height":6},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"crossFilter":[]}},{"id":"bdee3cb6-b17d-4f8a-82d5-47c2f98fb405","title":"L3 Topics last 2+ Months","query":"KPISupportData\n| where datetime_part(\"Year\",CreatedDateTime) >= datetime_part(\"Year\",now(-60d))\n| extend Month = datetime_part(\"Month\",CreatedDateTime)\n| where Month >= datetime_part(\"Month\",now())-2\n| summarize Count=count() by strcat(SupportTopicL2,'-',SupportTopicL3)\n| top 10 by Count","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"076ec38f-f13f-47c6-b0b3-18a67cbd6e0e","layout":{"x":0,"y":45,"width":23,"height":8},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"crossFilter":[]}},{"id":"1bbd9119-cd96-48b3-a636-8e55ed80fe28","title":"Previous Month","query":"let ReportingPeriod = startofmonth(datetime_add('month', -1, now()));\nlet CurrentMonth = startofmonth(now())-1tick;\nlet totalTicketsStarted= toscalar(cluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| where usageTime >= ReportingPeriod and usageTime < startofmonth(now())\n| where isnotempty( SupportTopicL2)\n| summarize TotalCount=dcount(WorkflowId) );\ncluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| where usageTime >= ReportingPeriod and usageTime < startofmonth(now())\n| where IsAbandoned == \"Yes\" and IsDeflected == \"Yes\" and isnotempty(ArticleId)\n| summarize DefCount=dcount(WorkflowId),Solution_List=make_set(SolutionType) by SupportTopicL2, SupportTopicL3\n//| summarize DefCount=dcount(WorkflowId) by SupportTopicL2, SupportTopicL3\n| join kind=fullouter (KPISupportData\n    | where CreatedDateTime >= ReportingPeriod and CreatedDateTime < CurrentMonth\n    | summarize SubTickets=count(),NumICMs=countif(isnotempty(RelatedICM_IDs)),ICMS=make_set(RelatedICM_IDs) by SupportTopicL2, SupportTopicL3\n) on SupportTopicL2, SupportTopicL3  \n| extend DefCount=iif(isempty(DefCount), 0, DefCount)\n| where isnotempty( SupportTopicL21)\n| project SupportTOpicL2=SupportTopicL21, SupportTopicL3=SupportTopicL31, TotalStarted=SubTickets+DefCount, DefCount, SubTickets, PctofTickets=round((todouble(SubTickets+DefCount)/todouble(totalTicketsStarted)) * 100,2), PctDeflected=round((todouble(DefCount)/todouble(totalTicketsStarted)) * 100,2), NumICMs, ICMS, Solution_List\n| top 10 by TotalStarted","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"076ec38f-f13f-47c6-b0b3-18a67cbd6e0e","layout":{"x":0,"y":53,"width":24,"height":9},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"crossFilter":[]}},{"id":"f40f0296-5874-4387-a909-9ab88ad5455e","title":"Ticket Stats (prev 3 months)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -3, now()));\nrange Timestamp from datetime_add('month', -3, now()) to now() step 1d\n| summarize by Timestamp=startofmonth(Timestamp)\n| join kind=leftouter\n(\ncluster('https://U360sec.kusto.windows.net').database('KPISupportData').Selfhelpdeflection\n| where ProductId == 16602\n| where usageTime >= ReportingPeriod\n| summarize NumeratorValue = sum(numeratorQuantity), DenominatorValue = sum(denominatorQuantity) by Month=startofmonth(usageTime)\n| extend Quantity = iff(DenominatorValue == 0, double(null), NumeratorValue/DenominatorValue)\n) on $left.Timestamp == $right.Month\n| join kind=leftouter \n(\n    KPISupportData\n    | where CreatedDateTime >= ReportingPeriod\n    | summarize CasesCreated=count(), ICMCreated=countif(isnotempty(RelatedICM_IDs)),\n    v3Migration=countif(IssueDescription has 'v3' and (IssueDescription has 'Upgrade' or IssueDescription has 'Migrate')) by Month=startofmonth(CreatedDateTime)\n) on Month\n| extend DeflectedCases=round(CasesCreated*Quantity,0),TotalCases=round(CasesCreated*(1+Quantity),0)\n| project Month=format_datetime(Timestamp, \"MM-yyyy\"),TotalCases, DeflectedCases, CasesCreated, DeflectionPct=strcat(round(Quantity*100,2),'%'), ICMs=ICMCreated, v3Migration, PercentICM=strcat(round(((todouble(ICMCreated)-todouble(v3Migration))/todouble(CasesCreated)) * 100,2),'%')\n| order by Month","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"076ec38f-f13f-47c6-b0b3-18a67cbd6e0e","layout":{"x":0,"y":22,"width":18,"height":5},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"ba3bcc8e-08f6-4266-9b84-5de5f241197e","title":"Ratio: CSS Support Cases to Running Clusters ","query":"range TimeStamp from startofmonth(ago(90d)) to now() step 1d\n| summarize by TimeStamp=endofmonth(TimeStamp)\n| join kind=leftouter\n(\n    KPISupportData\n    | summarize CasesCreated = count() by TimeStamp=endofmonth(CreatedDateTime)\n) on TimeStamp\n| join kind=leftouter \n(\n    KPISupportData\n    | summarize CasesClosed = count() by TimeStamp=endofmonth(ClosedDateTime)\n) on TimeStamp\n| join kind=leftouter\n(\n    cluster('kuskusdfv3.westeurope').database('Kuskus').DimClusters\n    | where TIMESTAMP >= startofmonth(ago(90d))\n    | where CustomerType == 'External'\n    | where Cluster !startswith \"INGEST-\"\n    | extend Day=endofday(TIMESTAMP)\n    | summarize arg_max(TIMESTAMP,*) by Cluster, Day\n    | where State=='Running'\n    | summarize RunningClusters=count() by TimeStamp=endofmonth(TIMESTAMP)\n) on TimeStamp\n| project TimeStamp,CreatedRatio=todouble(CasesCreated)/todouble(RunningClusters), CloasedRatio=todouble(CasesClosed)/todouble(RunningClusters)\n| order by TimeStamp\n| extend CreatedMOM=CreatedRatio-prev(CreatedRatio), CloasedMOM=CloasedRatio-prev(CloasedRatio)","layout":{"x":0,"y":7,"width":16,"height":5},"pageId":"fc7e3b97-0425-4b35-9b08-0c30644ee2f4","visualType":"table","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"6cf82ac5-f028-4527-b29f-e4f44e481e19","title":"ICM by Support Topic (prev 3 months)","query":"let ReportingPeriod = startofmonth(datetime_add('month', -3, now()));\nKPISupportData\n    | where CreatedDateTime >= ReportingPeriod\n    | summarize CasesCreated=count(), ICMCreated=countif(isnotempty(RelatedICM_IDs)),\n    v3Migration=countif(IssueDescription has 'v3' and (IssueDescription has 'Upgrade' or IssueDescription has 'Migrate')) by Month=startofmonth(CreatedDateTime), Topic=strcat(SupportTopicL2,'-',SupportTopicL3)\n    | extend ICM=iif(ICMCreated-v3Migration<0,0,ICMCreated-v3Migration), Cases=CasesCreated-v3Migration\n    | project Month, Topic, Cases, ICM, Pct=round((todouble(ICM))/(todouble(Cases))*100,2)\n    | top 15 by Cases\n    | order by Pct desc \n\n","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","visualType":"table","pageId":"076ec38f-f13f-47c6-b0b3-18a67cbd6e0e","layout":{"x":0,"y":27,"width":19,"height":5},"usedParamVariables":[],"visualOptions":{"hideTileTitle":false,"table__enableRenderLinks":true,"table__renderLinksForColumns":[],"colorRules":[],"colorRulesDisabled":true,"colorStyle":"light","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}}],"dataSources":[{"id":"32cd5251-8219-4267-b699-fcff6c4d0a63","name":"ADXSupportability","scopeId":"kusto","kind":"manual-kusto","clusterUri":"https://kuskusops.kusto.windows.net/","database":"ADXSupportability"},{"id":"648d6cdf-59b2-4cf2-ab39-c9a0568b4558","name":"ARMProd","scopeId":"kusto","kind":"manual-kusto","clusterUri":"https://armprod.kusto.windows.net/","database":"ARMProd"}],"schema_version":"24","autoRefresh":{"enabled":false},"parameters":[{"kind":"duration","id":"57f2d720-1468-4e5a-8475-6ca6860bf61d","displayName":"Time range","beginVariableName":"_startTime","endVariableName":"_endTime","defaultValue":{"kind":"dynamic","count":1,"unit":"hours"},"showOnPages":{"kind":"selection","pageIds":[]}},{"kind":"string","id":"c324443c-c164-4612-af69-a828ff2b6fec","displayName":"Review Month","variableName":"param_ReviewMonth","selectionType":"single","defaultValue":{"kind":"value","value":"02-2021"},"dataSource":{"kind":"query","consumedVariables":[],"query":"ReviewMonth","dataSourceId":"32cd5251-8219-4267-b699-fcff6c4d0a63","columns":{"value":"ReviewMonth","label":"ReviewMonth"}},"showOnPages":{"kind":"selection","pageIds":[]}}],"pages":[{"name":"CSS Cases Inventory","id":"fc7e3b97-0425-4b35-9b08-0c30644ee2f4"},{"name":"CSAT Deep dive","id":"ce63b5c5-0439-41f8-a759-11aad904b1ea"},{"name":"Incidents (IPD)","id":"156e96c5-dc5c-4515-aef2-1b95897ca276"},{"name":"CRIs","id":"6f90296f-c867-497d-83fc-7529e7734ade"},{"name":"SE Tooling","id":"5af01dae-5f8d-4d98-a0fd-6ae9c34df07d"},{"name":"Case Reviews","id":"58c5ce39-3efe-4848-8960-afb87fae7feb"},{"name":"Error Message Improvement","id":"3a658aa2-7ad3-4e48-bfae-2753b4d7bbc4"},{"name":"Self Help","id":"08c4920c-045c-4a28-b70d-3c00a1fbca92"},{"name":"Support Budget","id":"4b148bdb-2b72-4409-8aeb-f2f45edfa611"},{"name":"Improvement Backlog","id":"daf7a384-95ee-4b54-a8cc-d3c8de543bfa"},{"name":"Ava","id":"37c4c224-6778-4abb-b7f8-fdb1e72e6143"},{"name":"ASC RE Coverage","id":"2e539155-f85f-4bee-aad9-55c5cd6034a7"},{"name":"BRAIN","id":"c32f3c16-ceb4-4d0e-80ae-6b4ba7186da1"},{"name":"GitHub","id":"60cc27f9-2e31-4a43-b649-a036041100ae"},{"name":"New Metrics","id":"076ec38f-f13f-47c6-b0b3-18a67cbd6e0e"}]}